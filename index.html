<!DOCTYPE html><html><head><title>SafeHouse - Home</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/b17cb90d0109f14fbc58.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b17cb90d0109f14fbc58.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-4ae45ca6d0f28c4504d3.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-71948af4b0f09c0fc30e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-9681656406d7299e4803.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-30bad413d2dc085e13a0.js" as="script"/></head><body><div id="__next"><div><div><nav class="navbar navbar-expand-lg navbar-very-dark"><a class="navbar-brand" style="color:white" href="/"><h2>SafeHouse</h2></a></nav></div><div class="bg-image"><div class="bg-gradient"><div class="bg-gradient-outer"><div class="main-text"><br/><h1>Fool, learn, and conquer</h1><h3>Trustless identity<br/> for small businesses</h3><br/><a href="#prices"><button type="button" class="button btn-danger"><h3>Get SafeHouse</h3></button></a><br/><br/><a href="/"><button type="button" class="button btn-dark"><h3>Read Our Blog</h3></button></a><br/></div></div></div></div><div class="bg-image-five"><div class="bg-gradient-three"><div class="main-text"><h1>Compromised credentials are the leading cause of hacks.</h1><h1>The solution? Ditch the password and embrace decentralized identity.</h1></div></div></div><div class="about-text-container"><div class="about-text" style="top:40px;position:relative"><h1>Granular</h1><br/><h3>Specify authentication conditions</h3><br/><img src="honeycomb.png" width="200px"/></div><div class="about-text" style="top:40px;position:relative"><h1>Decentralized</h1><br/><h3>Confirms identity through concensus</h3><br/><img src="data.png" width="200px"/></div><div class="about-text" style="top:40px;position:relative"><h1>Secure</h1><br/><h3>Authentication impossible to bypass</h3><br/><img src="safe.png" width="200px"/></div></div><div class="red-container" style="background:rgb(225,75,75);border-top:solid;border-color:white;top:0px"><div class="bottom-text"><h1>Disclaimer</h1><br/><h3>This is a placeholder site for a product in development.<br/>There is no pricing<br/>In the meantime, check out our blog!</h3></div></div><div class="bg-image-two"><div class="bg-gradient-two" style="text-align:center"><h1 style="position:relative;top:320px;margin:auto">Recent blog posts</h1></div></div><div class="about-text-container" style="margin-bottom:40px;margin-top:-75px"><div class="blog-post"><br/><a href="https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56?source=rss-2264614a31c6------2"><img src="https://cdn-images-1.medium.com/max/1024/1*oH89SLHMFnlUSg3jmZ4Y4w.jpeg" width="90%" height="200px"/></a><div position="relative" style="margin-left:40px;margin-right:40px"><h2><a style="text-decoration:none;color:black" href="https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56?source=rss-2264614a31c6------2">Why Decentralization is the Future</a></h2></div><p><a href="https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56?source=rss-2264614a31c6------2">View blog post</a></p></div><div class="blog-post"><br/><a href="https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9?source=rss-2264614a31c6------2"><img src="https://cdn-images-1.medium.com/max/1024/1*0tm9NZW_Q2--zb3SR6JIjA.png" width="90%" height="200px"/></a><div position="relative" style="margin-left:40px;margin-right:40px"><h2><a style="text-decoration:none;color:black" href="https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9?source=rss-2264614a31c6------2">AES: How the Most Advanced Encryption Actually Works</a></h2></div><p><a href="https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9?source=rss-2264614a31c6------2">View blog post</a></p></div><div class="blog-post"><br/><a href="https://devsafehouse.medium.com/how-tls-protects-your-web-activity-7a9558d98e5d?source=rss-2264614a31c6------2"><img src="https://cdn-images-1.medium.com/max/1024/1*ZEwXotDGMjL_xB2FH58oQw.jpeg" width="90%" height="200px"/></a><div position="relative" style="margin-left:40px;margin-right:40px"><h2><a style="text-decoration:none;color:black" href="https://devsafehouse.medium.com/how-tls-protects-your-web-activity-7a9558d98e5d?source=rss-2264614a31c6------2">How TLS Protects Your Web Activity</a></h2></div><p><a href="https://devsafehouse.medium.com/how-tls-protects-your-web-activity-7a9558d98e5d?source=rss-2264614a31c6------2">View blog post</a></p></div></div><div class="bg-image-three" style="height:700px;border-top:solid;border-color:white"><div class="bg-gradient-three"><a name="prices"></a><div class="main-text"><h1>There is nothing to purchase right now.</h1><br/><h3>Pricing information is not available at this time.</h3></div></div></div><div class="price-text-container" style="margin-top:-350px"><div class="product-choice"><h1>Basic</h1><div class="price-tag"><h1>$XX.XX</h1><p>per instance per month</p></div><ul><li>‚úì Feature 1</li><li>‚úì Feature 2</li><li>‚úì Feature 3</li><li style="color:rgb(200,200,200)">‚ï≥ Feature 4</li><li style="color:rgb(200,200,200)">‚ï≥ Feature 5</li><li style="color:rgb(200,200,200)">‚ï≥ Feature 6</li></ul></div><br/><div class="product-choice"><h1>Enterprise</h1><div class="price-tag"><h1>$XX.XX</h1><p>per instance per month</p></div><ul><li>‚úì Feature 1</li><li>‚úì Feature 2</li><li>‚úì Feature 3</li><li>‚úì Feature 4</li><li>‚úì Feature 5</li><li>‚úì Feature 6</li></ul></div></div><div class="bottom-text"><div style="width:100%;height:3px;background:gray"></div><br/><h1>Get the world&#x27;s most advanced decentralized identity solution</h1><br/><a href="#prices"><button type="button" class="button btn-danger"><h3>Get SafeHouse</h3></button></a><br/><br/><a href="/"><button type="button" class="button btn-dark"><h3>Read Our Blog</h3></button></a><br/><br/><br/><div style="width:100%;height:3px;background:gray"></div><br/><a class="navbar-brand" style="color:white" href="#"><h2>SafeHouse</h2></a><p>Powered by the <a href="https://www.stevens.edu/academics/undergraduate-studies/undergraduate-entrepreneurship-programs/launchpadstevens">Launchpad Program</a> at Stevens</p><img src="launchpad.png" width="100px" height="100px"/><br/><br/></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogPosts":[{"title":"Why Decentralization is the Future","pubDate":"2021-07-23 20:13:10","link":"https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56?source=rss-2264614a31c6------2","guid":"https://medium.com/p/7170dd0d7b56","author":"SafeHouse","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*oH89SLHMFnlUSg3jmZ4Y4w.jpeg","description":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*oH89SLHMFnlUSg3jmZ4Y4w.jpeg\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://hbr.org/2019/09/will-we-realize-blockchains-promise-of-decentralization\"\u003ehttps://hbr.org/2019/09/will-we-realize-blockchains-promise-of-decentralization\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eAnyone who hasn‚Äôt been living under a rock has heard of Bitcoin. People have been debating for a long time about whether Bitcoin is ‚Äújust a fad.‚Äù We don‚Äôt claim to be economists nor mind-readers. But what we will say is that many analysts are missing an important factor: that Bitcoin is just part of a larger revolution that hopes to \u003cem\u003ecompletely liberate the internet\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eWhat are we talking about? In one word: \u003cstrong\u003e\u003cem\u003edecentralization\u003c/em\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eWhat is Decentralization?\u003c/h3\u003e\n\u003cp\u003eBy \u003cem\u003edecentralization, \u003c/em\u003ewe mean any situation in which the operation of a computer network is controlled not by a central authority, but by the community at large. Examples of decentralization are: Bitcoin and other cryptocurrencies, IPFS, and the BitTorrent protocol.\u003c/p\u003e\n\u003cp\u003eThe word \u003cem\u003edecentralized\u003c/em\u003e is often confused with the word \u003cem\u003edistributed. A d\u003c/em\u003eistributed system in one in which multiple computers share resources and computing power to accomplish a task. The key idea that separates \u003cem\u003edecentralized\u003c/em\u003e from \u003cem\u003edistributed\u003c/em\u003e is that decentralized systems are not controlled by a central authority (such as the owners of a server farm) and are instead \u003cem\u003eself-regulating. \u003c/em\u003eDistributed systems can be centralized, but decentralized systems are always distributed.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eDecentralized\u003c/em\u003e is also confused with the term \u003cem\u003epeer-to-peer\u003c/em\u003e. \u003cem\u003ePeer-to-peer \u003c/em\u003e(P2P)\u003cem\u003e \u003c/em\u003esystems are distributed systems in which no node has more privilege than another. Networks usually must be peer-to-peer to be considered truly decentralized.\u003c/p\u003e\n\u003cp\u003eDecentralized systems must contain a mechanism for determining the true state of the system, in case a malicious actor attempts to tamper with it. Bitcoin uses the blockchain data structure to achieve this; it is essentially a tamper-proof ledger and the persons who record transactions the quickest are assumed to know the true state of the system. The true state of the system can also be determined through voting and consensus.\u003c/p\u003e\n\u003cp\u003eSo why do we think decentralization is the future. In short, \u003cstrong\u003eit gives power to the¬†people!\u003c/strong\u003e\u003c/p\u003e\n\u003ch3\u003eHistory of Decentralization\u003c/h3\u003e\n\u003cp\u003eBefore we go into the benefits of decentralization, it would be helpful to go over some examples.\u003c/p\u003e\n\u003ch4\u003eThe Early¬†Days\u003c/h4\u003e\n\u003cp\u003eIn 1980, the decentralized discussion platform \u003ca href=\"https://en.wikipedia.org/wiki/Usenet\"\u003eUsenet\u003c/a\u003e was launched. Users could read and post messages to categories known as newsgroups. These newsgroups were hosted on a variety of servers, usually owned by internet service providers (ISPs). Usenet is a direct precursor to the internet forums we know¬†today.\u003c/p\u003e\n\u003cp\u003eMany social apps (Mastodon, PeerTube, etc.) have been developed in a similar vein to Usenet, and together comprise an entire ecosystem of decentralized social apps known as the Fediverse.\u003c/p\u003e\n\u003cp\u003eIn 1999, the peer-to-peer music sharing platform Napster was released. Reaching its peak in 2001, it was faced with a number of lawsuits because it facilitated the sharing of pirated materials. In mid 2001, it was forced to shut down its entire network and has since been rebranded as a music store and a music streaming service.\u003c/p\u003e\n\u003cp\u003eIn 2001, the decentralized file sharing protocol known as \u003ca href=\"https://en.wikipedia.org/wiki/BitTorrent\"\u003eBitTorrent\u003c/a\u003e was released. When a file is added to the BitTorrent network, it is split into pieces and distributed across multiple computers on the network. A client wanting to download the file would retrieve all of the pieces and reassemble them. Like Napster, BitTorrent is infamous as a platform for sharing pirated media, but continues to survive for this¬†day.\u003c/p\u003e\n\u003cp\u003eThe difference is that unlike Napster, the BitTorrent protocol is entirely decentralized and cannot be shut down by a single authority. To destroy BitTorrent would be to ban all BitTorrent clients available on the web, of which there are many. Contrast this to Napster, which had a single, proprietary client. If Napster was not a for-profit and made its client open-source, perhaps it would exist¬†today.\u003c/p\u003e\n\u003ch4\u003eBitcoin\u003c/h4\u003e\n\u003cp\u003eIn 2008, a person or group of people known only by the pen name Satoshi Nakamoto released the \u003ca href=\"https://bitcoin.org/bitcoin.pdf\"\u003eoriginal paper for Bitcoin\u003c/a\u003e. In it they describe a digital currency in which transactions are recorded in a tamper-proof ledger known as a blockchain.\u003c/p\u003e\n\u003cp\u003eEveryone on the network has a copy of the blockchain. Like we discussed earlier, the ‚Äúcorrect‚Äù version of the ledger belongs to the user that can record and verify transactions the fastest. This process is called \u003cem\u003emining. \u003c/em\u003eMiners are rewarded in Bitcoin; this is how Bitcoin is introduced into the economy. Every 210,000, the reward for mining is cut in half, so there is technically a finite supply of¬†Bitcoin.\u003c/p\u003e\n\u003cp\u003eBitcoin is what really pushed decentralization into the mainstream. There is an estimated \u003cstrong\u003e200 million\u003c/strong\u003e Bitcoin wallets in existence. As of writing this article, a single Bitcoin costs about $32,000. Special computer parts have been developed for the purpose of¬†mining.\u003c/p\u003e\n\u003ch4\u003eEthereum\u003c/h4\u003e\n\u003cp\u003e\u003ca href=\"https://ethereum.org/en/\"\u003eEthereum\u003c/a\u003e is the most popular cryptocurrency behind Bitcoin, but what it offers is much more than a digital currency.\u003c/p\u003e\n\u003cp\u003eGoing live in 2015, Ethereum introduced an innovation that elevated crypto to the realm of traditional finance: \u003cem\u003esmart contracts\u003c/em\u003e. These contracts were self-executing code that, like normal transactions, were recorded on chain and thus were binding and tamper-proof.\u003c/p\u003e\n\u003cp\u003eWhat Ethereum introduced was the ability express concepts like loans and interest in the form of its smart contracts, making it as powerful as traditional currency. All of the instruments of traditional finance could be reinvented, forming an ecosystem of DeFi (Decentralized Finance) applications. Smart contracts could also be used to write entire applications on chain, known as¬†Dapps.\u003c/p\u003e\n\u003cp\u003eFinally, Ethereum introduced Non-Fungible Tokens (NFTs), which are individual units of data stored on chain, used to certify the uniqueness of a digital asset (photos, music, video game items, etc.). NFT‚Äôs have most famously been used for selling original pieces of digital art. In 2020, a series of works by the artist Mike Winkelmann called ‚ÄúEveryday‚Ää‚Äî‚ÄäThe First 500 Days,‚Äù was \u003ca href=\"https://en.wikipedia.org/wiki/Everydays:_the_First_5000_Days\"\u003eauctioned in the form of an NFT for \u003cstrong\u003e69 million¬†dollars\u003c/strong\u003e.\u003c/a\u003e\u003c/p\u003e\n\u003ch4\u003eDecentralized Storage (IPFS, Storj, FileCoin, etc.)\u003c/h4\u003e\n\u003cp\u003eIf you follow tech news, you‚Äôve probably read about a government or mega-corporation whose records were leaked by¬†hackers.\u003c/p\u003e\n\u003cp\u003eDecentralized storage protocols provide a number of security benefits over traditional cloud storage providers. These protocols tend to encrypt, split up and distribute files in a similar manner to BitTorrent, so workstations hosting your files are unable to view them. They are also \u003cstrong\u003efault-tolerant\u003c/strong\u003e in that a single compromised node does not bring down the entire system. Finally, these protocols store files \u003cstrong\u003eredundantly\u003c/strong\u003e such that lost data can be easily recovered.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ipfs.io/\"\u003eIPFS\u003c/a\u003e is special in that it is not just a storage system but an entirely decentralized version of the web. IPFS is able to host web pages that can be accessed through your browser. IPFS already hosts search engines, messaging platforms, crypto wallets, databases, and¬†more‚Ä¶.\u003c/p\u003e\n\u003ch3\u003eThe Case for Decentralization\u003c/h3\u003e\n\u003cp\u003eThe beauty of decentralization is that means independence from Big Tech, governments and financial institutions. It means the ability to communicate and exchange assets without any middlemen. It means the ability to speak freely without fear of censorship.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs start with the issue of censorship. Consider a person living under a repressive regime who wants to speak out against the government. If he uses a state-approved social media app, his communications will be monitored and censored, and he will possibly face legal consequences. What if he uses a decentralized social app like \u003ca href=\"https://joinmastodon.org/\"\u003eMastodon\u003c/a\u003e? His posts won‚Äôt be in the hands of the government, but in a server belonging to a gracious individual. What if the government finds who is operating the server and forces it to shut down? He can use a serverless, blockchain-based app instead of a federated one.\u003c/p\u003e\n\u003cp\u003eThe point is that decentralization makes the internet \u003cem\u003eun-censorable\u003c/em\u003e. There are plenty of ‚Äúalternative‚Äù social media apps (Parler, Gab, etc.) that claim to stand for free speech, but can they really be trusted if they aren‚Äôt decentralized? Keep in mind that it‚Äôs not just the social media company that controls what appears on the app; it‚Äôs also the server owner, the government, and the app store operator in the case of mobile apps. The iPhone version of \u003ca href=\"https://www.msn.com/en-us/news/technology/parler-returns-to-apple-app-store-with-new-hate-speech-censorship/ar-BB1gPCDT\"\u003eParler now censors hate speech\u003c/a\u003e so it can appear on Apple‚Äôs App Store, for example. (We are not condoning the use of hate speech. We are simply stating that no centralized app can be trusted to protect it, along with more benign¬†speech.)\u003c/p\u003e\n\u003cp\u003eThis brings us to the biggest controversy surrounding decentralized networks: what is there to prevent illegal content from being uploaded? In the case of federated social media apps, the server owners are in charge of moderation, but what about serverless models like \u003ca href=\"https://ipfs.io/\"\u003eIPFS\u003c/a\u003e? The truth is that there is no easy answer. Consensus can be used to determine who is allowed to post, but if existing social media is anything to go by, ‚Äúupvote‚Äù systems can be¬†abused.\u003c/p\u003e\n\u003cp\u003eWhile illegal content is a legitimate concern, we personally don‚Äôt see this as a reason to shun decentralization entirely. If worse comes to worst (keep in mind we‚Äôre talking about very new technology), the centralized and decentralized web will coexist in a similar fashion to the ‚Äúsurface‚Äù web and the ‚Äúdark‚Äù web. But we don‚Äôt believe that this will happen. A more likely scenario is that server-based protocols will simply overtake serverless ones in popularity. Just like the ‚Äúnormal‚Äù web, there will be sanitized and un-sanitized places to accommodate all kinds of¬†users.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs move onto cryptocurrency. Crypto has essentially ushered in a new economy free from the influence of banks and financial regulations. Middle-men have been completely cut out of the equation and the money supply is controlled by a fixed algorithm. The result is the pinnacle of free¬†trade.\u003c/p\u003e\n\u003cp\u003eWhy is this a good thing? It lowers the barrier of entry into finance. It can be used to \u003ca href=\"https://www.reuters.com/technology/iran-uses-crypto-mining-lessen-impact-sanctions-study-finds-2021-05-21/\"\u003ebypass economic sanctions\u003c/a\u003e. It offers an alternative currency for countries suffering inflation. There are lower transaction costs. A limited money supply means it can‚Äôt be devalued.\u003c/p\u003e\n\u003cp\u003eOf course, there are many concerns surrounding crypto, some more legitimate than others. \u003ca href=\"https://bariweiss.substack.com/p/the-case-against-bitcoin\"\u003eSkeptics\u003c/a\u003e have pointed out crypto‚Äôs volatility, the environmental effects of mining, the prevalence of scams and criminal activity, the fact that private keys can still be stolen, the fact the governments are already cracking down on¬†it‚Ä¶.\u003c/p\u003e\n\u003cp\u003eWe won‚Äôt go over all of these issues right now (perhaps in another article). We admit that crypto in its current state is in need of improvement. But there is no reason to assume that none of these holes will be patched up. \u003ca href=\"https://minaprotocol.com/about\"\u003eBlockchains are already being developed\u003c/a\u003e to reduce energy consumption and improve security and scalability. Because of decentralization‚Äôs rise in popularity, there‚Äôs no reason to believe that the cryptocurrencies of tomorrow will be identical to Bitcoin or Ethereum.\u003c/p\u003e\n\u003ch3\u003eConclusion\u003c/h3\u003e\n\u003cp\u003eWe‚Äôve discussed two major use cases for decentralization in the section above, but the possibilities are truly endless. There is decentralized voting, gaming, gambling, databases, etc. etc., all free from government and corporate oversight for the most part. Decentralization is a way to bypass the various inconveniences and restrictions that limit our freedom and keep us from interacting directly. We will go into even more detail on decentralization in future articles.\u003c/p\u003e\n\u003cp\u003eLike we said at the beginning of the article, we are not economists. We‚Äôre not here to tell you that decentralized software will make you a millionaire (although we have no obvious reason to believe otherwise). We are interested in decentralization because of the \u003cem\u003eundeniable humanitarian benefits \u003c/em\u003ewhich we believe are catching¬†on!\u003c/p\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eSafeHouse believes in the mission of decentralization and hopes to use it to protect small businesses. If you enjoyed what you read, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=7170dd0d7b56\" width=\"1\" height=\"1\" alt=\"\"\u003e\u003chr\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56\"\u003eWhy Decentralization is the Future\u003c/a\u003e was originally published in \u003ca href=\"https://medium.com/codex\"\u003eCodeX\u003c/a\u003e on Medium, where people are continuing the conversation by highlighting and responding to this story.\u003c/p\u003e\n","content":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*oH89SLHMFnlUSg3jmZ4Y4w.jpeg\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://hbr.org/2019/09/will-we-realize-blockchains-promise-of-decentralization\"\u003ehttps://hbr.org/2019/09/will-we-realize-blockchains-promise-of-decentralization\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eAnyone who hasn‚Äôt been living under a rock has heard of Bitcoin. People have been debating for a long time about whether Bitcoin is ‚Äújust a fad.‚Äù We don‚Äôt claim to be economists nor mind-readers. But what we will say is that many analysts are missing an important factor: that Bitcoin is just part of a larger revolution that hopes to \u003cem\u003ecompletely liberate the internet\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eWhat are we talking about? In one word: \u003cstrong\u003e\u003cem\u003edecentralization\u003c/em\u003e\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eWhat is Decentralization?\u003c/h3\u003e\n\u003cp\u003eBy \u003cem\u003edecentralization, \u003c/em\u003ewe mean any situation in which the operation of a computer network is controlled not by a central authority, but by the community at large. Examples of decentralization are: Bitcoin and other cryptocurrencies, IPFS, and the BitTorrent protocol.\u003c/p\u003e\n\u003cp\u003eThe word \u003cem\u003edecentralized\u003c/em\u003e is often confused with the word \u003cem\u003edistributed. A d\u003c/em\u003eistributed system in one in which multiple computers share resources and computing power to accomplish a task. The key idea that separates \u003cem\u003edecentralized\u003c/em\u003e from \u003cem\u003edistributed\u003c/em\u003e is that decentralized systems are not controlled by a central authority (such as the owners of a server farm) and are instead \u003cem\u003eself-regulating. \u003c/em\u003eDistributed systems can be centralized, but decentralized systems are always distributed.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eDecentralized\u003c/em\u003e is also confused with the term \u003cem\u003epeer-to-peer\u003c/em\u003e. \u003cem\u003ePeer-to-peer \u003c/em\u003e(P2P)\u003cem\u003e \u003c/em\u003esystems are distributed systems in which no node has more privilege than another. Networks usually must be peer-to-peer to be considered truly decentralized.\u003c/p\u003e\n\u003cp\u003eDecentralized systems must contain a mechanism for determining the true state of the system, in case a malicious actor attempts to tamper with it. Bitcoin uses the blockchain data structure to achieve this; it is essentially a tamper-proof ledger and the persons who record transactions the quickest are assumed to know the true state of the system. The true state of the system can also be determined through voting and consensus.\u003c/p\u003e\n\u003cp\u003eSo why do we think decentralization is the future. In short, \u003cstrong\u003eit gives power to the¬†people!\u003c/strong\u003e\u003c/p\u003e\n\u003ch3\u003eHistory of Decentralization\u003c/h3\u003e\n\u003cp\u003eBefore we go into the benefits of decentralization, it would be helpful to go over some examples.\u003c/p\u003e\n\u003ch4\u003eThe Early¬†Days\u003c/h4\u003e\n\u003cp\u003eIn 1980, the decentralized discussion platform \u003ca href=\"https://en.wikipedia.org/wiki/Usenet\"\u003eUsenet\u003c/a\u003e was launched. Users could read and post messages to categories known as newsgroups. These newsgroups were hosted on a variety of servers, usually owned by internet service providers (ISPs). Usenet is a direct precursor to the internet forums we know¬†today.\u003c/p\u003e\n\u003cp\u003eMany social apps (Mastodon, PeerTube, etc.) have been developed in a similar vein to Usenet, and together comprise an entire ecosystem of decentralized social apps known as the Fediverse.\u003c/p\u003e\n\u003cp\u003eIn 1999, the peer-to-peer music sharing platform Napster was released. Reaching its peak in 2001, it was faced with a number of lawsuits because it facilitated the sharing of pirated materials. In mid 2001, it was forced to shut down its entire network and has since been rebranded as a music store and a music streaming service.\u003c/p\u003e\n\u003cp\u003eIn 2001, the decentralized file sharing protocol known as \u003ca href=\"https://en.wikipedia.org/wiki/BitTorrent\"\u003eBitTorrent\u003c/a\u003e was released. When a file is added to the BitTorrent network, it is split into pieces and distributed across multiple computers on the network. A client wanting to download the file would retrieve all of the pieces and reassemble them. Like Napster, BitTorrent is infamous as a platform for sharing pirated media, but continues to survive for this¬†day.\u003c/p\u003e\n\u003cp\u003eThe difference is that unlike Napster, the BitTorrent protocol is entirely decentralized and cannot be shut down by a single authority. To destroy BitTorrent would be to ban all BitTorrent clients available on the web, of which there are many. Contrast this to Napster, which had a single, proprietary client. If Napster was not a for-profit and made its client open-source, perhaps it would exist¬†today.\u003c/p\u003e\n\u003ch4\u003eBitcoin\u003c/h4\u003e\n\u003cp\u003eIn 2008, a person or group of people known only by the pen name Satoshi Nakamoto released the \u003ca href=\"https://bitcoin.org/bitcoin.pdf\"\u003eoriginal paper for Bitcoin\u003c/a\u003e. In it they describe a digital currency in which transactions are recorded in a tamper-proof ledger known as a blockchain.\u003c/p\u003e\n\u003cp\u003eEveryone on the network has a copy of the blockchain. Like we discussed earlier, the ‚Äúcorrect‚Äù version of the ledger belongs to the user that can record and verify transactions the fastest. This process is called \u003cem\u003emining. \u003c/em\u003eMiners are rewarded in Bitcoin; this is how Bitcoin is introduced into the economy. Every 210,000, the reward for mining is cut in half, so there is technically a finite supply of¬†Bitcoin.\u003c/p\u003e\n\u003cp\u003eBitcoin is what really pushed decentralization into the mainstream. There is an estimated \u003cstrong\u003e200 million\u003c/strong\u003e Bitcoin wallets in existence. As of writing this article, a single Bitcoin costs about $32,000. Special computer parts have been developed for the purpose of¬†mining.\u003c/p\u003e\n\u003ch4\u003eEthereum\u003c/h4\u003e\n\u003cp\u003e\u003ca href=\"https://ethereum.org/en/\"\u003eEthereum\u003c/a\u003e is the most popular cryptocurrency behind Bitcoin, but what it offers is much more than a digital currency.\u003c/p\u003e\n\u003cp\u003eGoing live in 2015, Ethereum introduced an innovation that elevated crypto to the realm of traditional finance: \u003cem\u003esmart contracts\u003c/em\u003e. These contracts were self-executing code that, like normal transactions, were recorded on chain and thus were binding and tamper-proof.\u003c/p\u003e\n\u003cp\u003eWhat Ethereum introduced was the ability express concepts like loans and interest in the form of its smart contracts, making it as powerful as traditional currency. All of the instruments of traditional finance could be reinvented, forming an ecosystem of DeFi (Decentralized Finance) applications. Smart contracts could also be used to write entire applications on chain, known as¬†Dapps.\u003c/p\u003e\n\u003cp\u003eFinally, Ethereum introduced Non-Fungible Tokens (NFTs), which are individual units of data stored on chain, used to certify the uniqueness of a digital asset (photos, music, video game items, etc.). NFT‚Äôs have most famously been used for selling original pieces of digital art. In 2020, a series of works by the artist Mike Winkelmann called ‚ÄúEveryday‚Ää‚Äî‚ÄäThe First 500 Days,‚Äù was \u003ca href=\"https://en.wikipedia.org/wiki/Everydays:_the_First_5000_Days\"\u003eauctioned in the form of an NFT for \u003cstrong\u003e69 million¬†dollars\u003c/strong\u003e.\u003c/a\u003e\u003c/p\u003e\n\u003ch4\u003eDecentralized Storage (IPFS, Storj, FileCoin, etc.)\u003c/h4\u003e\n\u003cp\u003eIf you follow tech news, you‚Äôve probably read about a government or mega-corporation whose records were leaked by¬†hackers.\u003c/p\u003e\n\u003cp\u003eDecentralized storage protocols provide a number of security benefits over traditional cloud storage providers. These protocols tend to encrypt, split up and distribute files in a similar manner to BitTorrent, so workstations hosting your files are unable to view them. They are also \u003cstrong\u003efault-tolerant\u003c/strong\u003e in that a single compromised node does not bring down the entire system. Finally, these protocols store files \u003cstrong\u003eredundantly\u003c/strong\u003e such that lost data can be easily recovered.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://ipfs.io/\"\u003eIPFS\u003c/a\u003e is special in that it is not just a storage system but an entirely decentralized version of the web. IPFS is able to host web pages that can be accessed through your browser. IPFS already hosts search engines, messaging platforms, crypto wallets, databases, and¬†more‚Ä¶.\u003c/p\u003e\n\u003ch3\u003eThe Case for Decentralization\u003c/h3\u003e\n\u003cp\u003eThe beauty of decentralization is that means independence from Big Tech, governments and financial institutions. It means the ability to communicate and exchange assets without any middlemen. It means the ability to speak freely without fear of censorship.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs start with the issue of censorship. Consider a person living under a repressive regime who wants to speak out against the government. If he uses a state-approved social media app, his communications will be monitored and censored, and he will possibly face legal consequences. What if he uses a decentralized social app like \u003ca href=\"https://joinmastodon.org/\"\u003eMastodon\u003c/a\u003e? His posts won‚Äôt be in the hands of the government, but in a server belonging to a gracious individual. What if the government finds who is operating the server and forces it to shut down? He can use a serverless, blockchain-based app instead of a federated one.\u003c/p\u003e\n\u003cp\u003eThe point is that decentralization makes the internet \u003cem\u003eun-censorable\u003c/em\u003e. There are plenty of ‚Äúalternative‚Äù social media apps (Parler, Gab, etc.) that claim to stand for free speech, but can they really be trusted if they aren‚Äôt decentralized? Keep in mind that it‚Äôs not just the social media company that controls what appears on the app; it‚Äôs also the server owner, the government, and the app store operator in the case of mobile apps. The iPhone version of \u003ca href=\"https://www.msn.com/en-us/news/technology/parler-returns-to-apple-app-store-with-new-hate-speech-censorship/ar-BB1gPCDT\"\u003eParler now censors hate speech\u003c/a\u003e so it can appear on Apple‚Äôs App Store, for example. (We are not condoning the use of hate speech. We are simply stating that no centralized app can be trusted to protect it, along with more benign¬†speech.)\u003c/p\u003e\n\u003cp\u003eThis brings us to the biggest controversy surrounding decentralized networks: what is there to prevent illegal content from being uploaded? In the case of federated social media apps, the server owners are in charge of moderation, but what about serverless models like \u003ca href=\"https://ipfs.io/\"\u003eIPFS\u003c/a\u003e? The truth is that there is no easy answer. Consensus can be used to determine who is allowed to post, but if existing social media is anything to go by, ‚Äúupvote‚Äù systems can be¬†abused.\u003c/p\u003e\n\u003cp\u003eWhile illegal content is a legitimate concern, we personally don‚Äôt see this as a reason to shun decentralization entirely. If worse comes to worst (keep in mind we‚Äôre talking about very new technology), the centralized and decentralized web will coexist in a similar fashion to the ‚Äúsurface‚Äù web and the ‚Äúdark‚Äù web. But we don‚Äôt believe that this will happen. A more likely scenario is that server-based protocols will simply overtake serverless ones in popularity. Just like the ‚Äúnormal‚Äù web, there will be sanitized and un-sanitized places to accommodate all kinds of¬†users.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs move onto cryptocurrency. Crypto has essentially ushered in a new economy free from the influence of banks and financial regulations. Middle-men have been completely cut out of the equation and the money supply is controlled by a fixed algorithm. The result is the pinnacle of free¬†trade.\u003c/p\u003e\n\u003cp\u003eWhy is this a good thing? It lowers the barrier of entry into finance. It can be used to \u003ca href=\"https://www.reuters.com/technology/iran-uses-crypto-mining-lessen-impact-sanctions-study-finds-2021-05-21/\"\u003ebypass economic sanctions\u003c/a\u003e. It offers an alternative currency for countries suffering inflation. There are lower transaction costs. A limited money supply means it can‚Äôt be devalued.\u003c/p\u003e\n\u003cp\u003eOf course, there are many concerns surrounding crypto, some more legitimate than others. \u003ca href=\"https://bariweiss.substack.com/p/the-case-against-bitcoin\"\u003eSkeptics\u003c/a\u003e have pointed out crypto‚Äôs volatility, the environmental effects of mining, the prevalence of scams and criminal activity, the fact that private keys can still be stolen, the fact the governments are already cracking down on¬†it‚Ä¶.\u003c/p\u003e\n\u003cp\u003eWe won‚Äôt go over all of these issues right now (perhaps in another article). We admit that crypto in its current state is in need of improvement. But there is no reason to assume that none of these holes will be patched up. \u003ca href=\"https://minaprotocol.com/about\"\u003eBlockchains are already being developed\u003c/a\u003e to reduce energy consumption and improve security and scalability. Because of decentralization‚Äôs rise in popularity, there‚Äôs no reason to believe that the cryptocurrencies of tomorrow will be identical to Bitcoin or Ethereum.\u003c/p\u003e\n\u003ch3\u003eConclusion\u003c/h3\u003e\n\u003cp\u003eWe‚Äôve discussed two major use cases for decentralization in the section above, but the possibilities are truly endless. There is decentralized voting, gaming, gambling, databases, etc. etc., all free from government and corporate oversight for the most part. Decentralization is a way to bypass the various inconveniences and restrictions that limit our freedom and keep us from interacting directly. We will go into even more detail on decentralization in future articles.\u003c/p\u003e\n\u003cp\u003eLike we said at the beginning of the article, we are not economists. We‚Äôre not here to tell you that decentralized software will make you a millionaire (although we have no obvious reason to believe otherwise). We are interested in decentralization because of the \u003cem\u003eundeniable humanitarian benefits \u003c/em\u003ewhich we believe are catching¬†on!\u003c/p\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eSafeHouse believes in the mission of decentralization and hopes to use it to protect small businesses. If you enjoyed what you read, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=7170dd0d7b56\" width=\"1\" height=\"1\" alt=\"\"\u003e\u003chr\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/codex/why-decentralization-is-the-future-7170dd0d7b56\"\u003eWhy Decentralization is the Future\u003c/a\u003e was originally published in \u003ca href=\"https://medium.com/codex\"\u003eCodeX\u003c/a\u003e on Medium, where people are continuing the conversation by highlighting and responding to this story.\u003c/p\u003e\n","enclosure":{},"categories":["cryptocurrency","censorship-resistance","decentralization","computer-science","technology"]},{"title":"AES: How the Most Advanced Encryption Actually Works","pubDate":"2021-07-13 07:12:05","link":"https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9?source=rss-2264614a31c6------2","guid":"https://medium.com/p/b6341c44edb9","author":"SafeHouse","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*0tm9NZW_Q2--zb3SR6JIjA.png","description":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*0tm9NZW_Q2--zb3SR6JIjA.png\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://www.venafi.com/blog/what-are-best-use-cases-symmetric-vs-asymmetric-encryption\"\u003ehttps://www.venafi.com/blog/what-are-best-use-cases-symmetric-vs-asymmetric-encryption\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eGovernments, militaries, banks and corporations rely on it. It‚Äôs responsible for securing most, if not all of your personal and financial data. There are special CPU instructions for it. It is the only cryptographic algorithm approved by the¬†NSA.\u003c/p\u003e\n\u003cp\u003eWe‚Äôre of course talking about the Advanced Encryption Standard (AES), the most commonplace and secure symmetric encryption algorithm yet developed.\u003c/p\u003e\n\u003cp\u003eThis will be the longest article we write for the time being üòä. We‚Äôre going to take a deep dive into how this algorithm works. Modern cryptographic algorithms are by no means trivial; they use concepts from advanced mathematics to achieve a high level of security. But we don‚Äôt expect you to be a mathematician.\u003c/p\u003e\n\u003cp\u003eWhile there are many articles about AES, most of them are either too technical or leave out important information. With this article we hope to strike the perfect balance between comprehensiveness and accessibility. However, we must admit that this article will require some level of comfort with math, as mathematical concepts are introduced here.\u003c/p\u003e\n\u003cp\u003eIt must be stated that you should not try to implement AES by yourself in a production application, or risk a \u003ca href=\"https://en.wikipedia.org/wiki/Side-channel_attack\"\u003eside channel attack\u003c/a\u003e. Use the many free \u003ca href=\"https://en.wikipedia.org/wiki/Comparison_of_cryptography_libraries\"\u003ecryptographic libraries\u003c/a\u003e that offer tested implementations of whatever algorithms you¬†need.\u003c/p\u003e\n\u003ch3\u003eThe Basics\u003c/h3\u003e\n\u003cp\u003eFirst, a brief refresher on what AES¬†is.\u003c/p\u003e\n\u003cp\u003eAES is not the name of the algorithm itself, but a title awarded by the National Institute of Standards and Technology (NIST) to the algorithm they deemed to be the de facto standard for encryption. The actual name of the algorithm is \u003cem\u003eRijndael\u003c/em\u003e, and it was selected by the NIST over a number of algorithms to replace the former standard, known as DES (Data Encryption Standard). Rijndael was approved by the NIST in 2001 and adopted by the US government in 2002. It remains the standard cipher used by the US government and institutions across the¬†world.\u003c/p\u003e\n\u003cp\u003eAES is a \u003cem\u003esymmetric cipher\u003c/em\u003e, which means that a single key is used to encrypt \u003cem\u003eand\u003c/em\u003e decrypt the same data. AES can be performed with the following key sizes: \u003cstrong\u003e128 bits, 196 bits and 256 bits\u003c/strong\u003e. Generally, increasing the key size also increases the level of security. Rijndael works for any key size that is a multiple of 32 bits, but the NIST chose specific sizes (and other parameters) that balance performance and security.\u003c/p\u003e\n\u003cp\u003eIt is also a \u003cem\u003eblock cipher\u003c/em\u003e, meaning that the data is divided into blocks before encryption. AES divides plaintext into blocks of 16 bytes (128¬†bits).\u003c/p\u003e\n\u003ch3\u003eAlgorithm Overview\u003c/h3\u003e\n\u003cp\u003eThe gist of AES is this: we arrange each block of the plaintext into a 4x4 matrix and repeatedly perform a set of operations on it. We call each iteration a \u003cem\u003eround\u003c/em\u003e, and we perform \u003cstrong\u003e10, 12 or 14 rounds\u003c/strong\u003e depending on the key length (this is another parameter chosen by¬†NIST):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e10 rounds for a 128-bit¬†key\u003c/li\u003e\n\u003cli\u003e12 rounds for a 196-bit¬†key\u003c/li\u003e\n\u003cli\u003e14 rounds for a 256 bit¬†key\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor each round, we generate a \u003cem\u003eround key \u003c/em\u003efrom the main key using the \u003cem\u003eRijndael Key Schedule\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eThere are four operations on the 4x4 matrix that we will¬†define:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003esubBytes()\u003c/li\u003e\n\u003cli\u003eshiftRows()\u003c/li\u003e\n\u003cli\u003emixColumns()\u003c/li\u003e\n\u003cli\u003eaddRoundKey()\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNot every round of operations is the same; for the first round, we only add the round key, and for the last round we omit the mixColumns() step. So the pseudocode for the AES algorithm might look something like¬†this:\u003c/p\u003e\n\u003cpre\u003efunction AESencrypt(plaintext, key) {\u003cbr\u003e\u003cbr\u003e  blocks := divideIntoBlocks(plaintext);\u003cbr\u003e  roundKeys = getRoundKeys(key)\u003c/pre\u003e\n\u003cpre\u003e  for (block in blocks) {\u003c/pre\u003e\n\u003cpre\u003e    //first round\u003cbr\u003e    addRoundKey(roundKeys[0], block);\u003c/pre\u003e\n\u003cpre\u003e    //intermediate rounds\u003cbr\u003e    for (8, 10 or 12 rounds) {\u003cbr\u003e      subBytes(block);\u003cbr\u003e      shiftRows(block);\u003cbr\u003e      mixColumns(block);\u003cbr\u003e      addRoundKey(roundKeys[..], block);\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    //last round\u003cbr\u003e    subBytes(block);\u003cbr\u003e    shiftRows(block);\u003cbr\u003e    addRoundKey(roundKeys[numRounds - 1], block);\u003c/pre\u003e\n\u003cpre\u003e  }\u003c/pre\u003e\n\u003cpre\u003e  ciphertext := reassemble(blocks);\u003cbr\u003e  return ciphertext;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eMathematical Background\u003c/h3\u003e\n\u003cp\u003eThis section may appear rather esoteric. We told you we would explain AES in detail and we weren‚Äôt lying. Luckily, we believe that the concepts in this section can be understood with only high-school level math and basic programming experience. Don‚Äôt let the fancy words throw you¬†off!\u003c/p\u003e\n\u003cp\u003eLet‚Äôs introduce a concept in abstract algebra called a \u003cem\u003eGalois field\u003c/em\u003e or \u003cem\u003efinite field\u003c/em\u003e. A \u003cem\u003efield\u003c/em\u003e is a set (meaning a collection of objects) with operations that act on the set and behave similarly to addition, subtraction, multiplication and division. In other words, the operations satisfy a number of properties that also hold true for addition/subtraction/multiplication/division over the rational numbers. In fact, the rational and real numbers with these four operations qualify as a field. The \u003cem\u003efinite\u003c/em\u003e qualifier just means that the set has a finite number of elements.\u003c/p\u003e\n\u003cp\u003eWe won‚Äôt go into the specific definition of a field. Just think of it as a set of numbers where addition, subtraction, multiplication and division are redefined.\u003c/p\u003e\n\u003cp\u003eAES uses a specific Galois field, which we will call \u003cem\u003eRijndael‚Äôs finite field\u003c/em\u003e, to perform many essential operations. In particular, it uses GF(2‚Å∏) with irreducible polynomial \u003cem\u003ex\u003c/em\u003e‚Å∏ +\u003cem\u003e x\u003c/em\u003e‚Å¥ + \u003cem\u003ex\u003c/em\u003e¬≥ + \u003cem\u003ex\u003c/em\u003e + 1. You‚Äôll understand what this means in a¬†bit.\u003c/p\u003e\n\u003cp\u003eThe Galois field GF(\u003cem\u003ep‚Åø\u003c/em\u003e), where \u003cem\u003ep\u003c/em\u003e is prime and \u003cem\u003en\u003c/em\u003e is a positive integer, denotes the field with \u003cem\u003ep‚Åø \u003c/em\u003eelements\u003cem\u003e. \u003c/em\u003eFor example, the field GF(8) (or GF(2¬≥)) contains all integers from 0 to 7. An important property of Galois fields is that the elements of the field GF(\u003cem\u003ep‚Åø\u003c/em\u003e) are \u003cstrong\u003eall polynomials of degree less than n with non-negative coefficients, evaluated at p\u003c/strong\u003e\u003cem\u003e. p\u003c/em\u003e is called the \u003cem\u003echaracteristic\u003c/em\u003e of the¬†field.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs look at GF(8), or GF(2¬≥), again. GF(2¬≥) contains {0, 1, 2, 3, 4, 5, 6, 7}, which can be equivalently represented as {0, 1, 2, 2 + 1, 2¬≤, 2¬≤+ 1, 2¬≤+ 2, 2¬≤+ 2 + 1}, or {0, 1, \u003cem\u003ex\u003c/em\u003e, \u003cem\u003ex\u003c/em\u003e+ 1, \u003cem\u003ex\u003c/em\u003e¬≤, \u003cem\u003ex\u003c/em\u003e¬≤ + 1, \u003cem\u003ex\u003c/em\u003e¬≤ + \u003cem\u003ex\u003c/em\u003e, \u003cem\u003ex\u003c/em\u003e¬≤ + \u003cem\u003ex\u003c/em\u003e+ 1} where \u003cem\u003ex\u003c/em\u003e =¬†2.\u003c/p\u003e\n\u003cp\u003eWith this notation out of the way, we can now explain how addition/subtraction/multiplication/division works with Galois¬†fields.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eAddition/Subtraction\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eSuppose we want to add elements \u003cem\u003ea\u003c/em\u003e and \u003cem\u003eb\u003c/em\u003e of GF(\u003cem\u003ep‚Åø\u003c/em\u003e). First, convert them to their polynomial forms, that is, write them as sums of powers of \u003cem\u003ep\u003c/em\u003e. Then we add the polynomials together, but with a caveat: for each coefficient \u003cem\u003ea_k\u003c/em\u003e in \u003cem\u003ea(p)\u003c/em\u003e, \u003cem\u003eb_k\u003c/em\u003e in \u003cem\u003eb(p)\u003c/em\u003e, the resulting coefficient \u003cem\u003ec_k \u003c/em\u003eis equal to \u003cem\u003ea_k\u003c/em\u003e + \u003cem\u003eb_k\u003c/em\u003e mod \u003cem\u003ep\u003c/em\u003e. For subtraction, the formula is \u003cem\u003ec_k\u003c/em\u003e = \u003cem\u003ea_k\u003c/em\u003e‚Ää‚Äî‚Ää\u003cem\u003eb_k\u003c/em\u003e mod¬†\u003cem\u003ep\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eWe apologize for Medium‚Äôs lack of support for mathematical expressions. Here are the formulas again in¬†LaTeX:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/544/1*b32ra3kUxYZx0PAk-fBF0g.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/584/1*-XPMYNDqSAghS8q8jizwpA.png\"\u003e\u003c/figure\u003e\u003cp\u003e‚Äúmod‚Äù of course stands for modulo, which in most programming languages is written as ‚Äú%‚Äù. Let‚Äôs look at an¬†example:\u003c/p\u003e\n\u003cp\u003e74 + 26 in GF(3‚Å¥) = (2 * 3¬≥ + 2 * 3¬≤ + 2 * 1) + (2 * 3¬≤ + 2 * 3 + 2 *¬†1)\u003c/p\u003e\n\u003cp\u003e= (2 * 3¬≥ + 4 * 3¬≤ + 2 * 3 + 4 * 1) = (2 * 3¬≥ + 3¬≤ + 6 + 1) =¬†\u003cstrong\u003e70\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNotice that 4 * 3¬≤ became 3¬≤ and 4 * 1 became 1 because of the modulo operation on the coefficients.\u003c/p\u003e\n\u003cp\u003eThe Rijndael field GF(2‚Å∏), as well as all fields with characteristic 2, share a property that makes them well suited for computers: \u003cstrong\u003eaddition and subtraction are equivalent to the bitwise exclusive or (XOR/‚äï) operation.\u003c/strong\u003e This works because \u003cstrong\u003eeach term in the polynomial represents a bit.\u003c/strong\u003e Here is another example to demonstrate this¬†fact:\u003c/p\u003e\n\u003cp\u003e15 + 12 in GF(2‚Å¥) = (2¬≥ + 2¬≤ + 2 + 1) + (2¬≥ +¬†2¬≤)\u003c/p\u003e\n\u003cp\u003e= (2 * 2¬≥ + 2 * 2¬≤ + 2 + 1) = (2 + 1) =¬†\u003cstrong\u003e3\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e15 ‚äï 12 = 0b1111 ‚äï 0b1100 = 0b0011 =¬†\u003cstrong\u003e3\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAddition in Galois fields is often referred to as ‚Äúcarryless addition.‚Äù We add each set of digits independently modulo \u003cem\u003ep\u003c/em\u003e. Note that in the example above, the first set of digits adds to 2 mod 2 = 0, while the second set adds to 7 mod 2 =¬†3.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eMultiplication\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eIn order to multiply two polynomials \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p)\u003c/em\u003e in GF(\u003cem\u003ep‚Åø\u003c/em\u003e), we need to chose a third polynomial \u003cem\u003em(p) \u003c/em\u003ethat \u003cem\u003ecannot be factored\u003c/em\u003e and has a degree of at least \u003cem\u003en\u003c/em\u003e. We call m(p) the irreducible polynomial.\u003c/p\u003e\n\u003cp\u003eTo multiply \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p) in \u003c/em\u003eGF(\u003cem\u003ep‚Åø\u003c/em\u003e) we perform the following steps:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMultiply \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p) \u003c/em\u003elike¬†normal\u003c/li\u003e\n\u003cli\u003eReduce the coefficients of the resulting polynomial modulo¬†p.\u003c/li\u003e\n\u003cli\u003eReduce the entire polynomial mod \u003cem\u003em(p). \u003c/em\u003eThis is so our final answer stays less than\u003cem\u003e¬†p‚Åø.\u003c/em\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe final step can be performed using polynomial long division. \u003cstrong\u003eHowever, this is no ordinary division\u003cem\u003e.\u003c/em\u003e Every arithmetic operation we perform during the process must be the finite field‚Äôs version.\u003c/strong\u003e In the case of GF(2‚Å∏), every time we perform ‚Äúsubtraction‚Äù, we actually perform the XOR operation. Representing the polynomials as binary strings will be helpful for this¬†step.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs perform 193 * 56 in GF(2‚Å∏) and with \u003cem\u003em(p)\u003c/em\u003e = \u003cem\u003ex\u003c/em\u003e‚Å∏ +\u003cem\u003e x\u003c/em\u003e‚Å¥ + \u003cem\u003ex\u003c/em\u003e¬≥ + \u003cem\u003ex\u003c/em\u003e + 1 (Rijndael‚Äôs field):\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*rc1od0FZUReYTN0q6MJAow.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*QdgLMbTc2cpGQEC3UXjZfw.png\"\u003e\u003c/figure\u003e\u003cp\u003eIf multiplication in finite fields seems complicated, don‚Äôt worry! With Rijndael‚Äôs field, the multiplication algorithm can be greatly optimized beyond what is described above. Below is a pseudocode implementation:\u003c/p\u003e\n\u003cpre\u003efunction gmul(a : byte, b : byte) {\u003c/pre\u003e\n\u003cpre\u003e  p : byte = 0x00;\u003cbr\u003e\u003cbr\u003e  for (8 rounds) {\u003c/pre\u003e\n\u003cpre\u003e    //if low bit of b is set\u003cbr\u003e    if ((b \u0026amp; 1) != 0) {\u003cbr\u003e      p = p ‚äï a;\u003cbr\u003e    }\u003cbr\u003e\u003cbr\u003e    //true if the high bit of a is set\u003cbr\u003e    h : bool = (a \u0026amp; 0x80) != 0;\u003c/pre\u003e\n\u003cpre\u003e    a = a \u0026lt;\u0026lt; 1; //shift left\u003cbr\u003e\u003cbr\u003e    if (h) {\u003cbr\u003e      a = a ‚äï 0x1B; //value of the polynomial m(p) (0x11B) with the high bit removed\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    b = b \u0026gt;\u0026gt; 1; //right shift\u003c/pre\u003e\n\u003cpre\u003e   return p;\u003c/pre\u003e\n\u003cpre\u003e  }  \u003cbr\u003e}\u003c/pre\u003e\n\u003ch4\u003eThe Multiplicative Inverse/Division\u003c/h4\u003e\n\u003cp\u003eThe multiplicative inverse of a polynomial a(p) is the polynomial b(p) such that a(p) * b(p) mod m(p) = 1. Multiplicative inverses can be found by applying the inverse of the algorithm above. Division is simply a matter of multiplying the first operand by the multiplicative inverse of the¬†second.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eWhat‚Äôs the¬†point?\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eWhy does AES borrow concepts from finite field theory. The main reason is performance. Remember that ‚Äúaddition‚Äù in GF(2‚Å∏) is the same as the XOR operation. Also consider that there is no need to worry about overflow/underflow, because the inputs and outputs of the operations are restricted to the numbers¬†0‚Äì255.\u003c/p\u003e\n\u003cp\u003eMultiplication is less complicated than it looks. To put things in perspective, consider how computers perform normal multiplication at the lowest level: through repeated bit shifts and additions (of course, we don‚Äôt have special circuitry to perform GF(2‚Å∏) arithmetic). Finally, multiplication by 2 and 3 is very easy to optimize. This will become important later.\u003c/p\u003e\n\u003cpre\u003e//multiply by 2 in GF(2^8)\u003cbr\u003efunction gmul2(a : byte) {\u003c/pre\u003e\n\u003cpre\u003e  h : byte = a \u0026amp; 0x80; //high bit\u003c/pre\u003e\n\u003cpre\u003e  b : byte = a \u0026lt;\u0026lt; 1;\u003c/pre\u003e\n\u003cpre\u003e  if (h == 0x80) b = b ‚äï 0x1b;\u003c/pre\u003e\n\u003cpre\u003e  return b; \u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e//multiply by 3 in GF(2^8)\u003cbr\u003efunction gmul3(a : byte) {\u003c/pre\u003e\n\u003cpre\u003e  return a ‚äï gmul2(a);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eKey Expansion\u003c/h3\u003e\n\u003cp\u003eWe‚Äôre done with background! Now it‚Äôs time to look into the nitty-gritty of what AES actually¬†does.\u003c/p\u003e\n\u003cp\u003eBefore any encryption takes place, separate 128-bit keys must be generated for each round. Rijndael uses a specific algorithm to generate round¬†keys.\u003c/p\u003e\n\u003cp\u003eThe Rijndael key schedule performs a number of operations:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003erotate():\u003c/strong\u003e rotates a 32-bit (4 byte) word 8 bits to the left. As an example: rotate(0xab157c9e) = 0x157c9eab.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ercon():\u003c/strong\u003e exponentiates (repeatedly multiplies) 2 to a specified value in Rijndael‚Äôs finite field. This operation can be described by the pseudocode below. However, we will only need to use a maximum of 11 rcon() values, so a lookup table is sufficient.\u003c/p\u003e\n\u003cpre\u003efunction rcon(value : unsigned int) {\u003c/pre\u003e\n\u003cpre\u003e  c : byte = 1;\u003cbr\u003e\u003cbr\u003e  if (value == 0) return 0;\u003cbr\u003e  while (value != 1) {\u003cbr\u003e    c = gmul(c, 2);\u003cbr\u003e    value--;\u003cbr\u003e  }\u003c/pre\u003e\n\u003cpre\u003e  return c;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cp\u003eWe have not yet explained how exponentiation works for finite fields. In short, it works very similarly to normal mathematics. We encourage curious readers to do their own research if they want to learn¬†more.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003esbox():\u003c/strong\u003e another operation in Rijndael‚Äôs field, usually implemented with the following lookup¬†table:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*jS3HSAr5mIotBFA0EXgW1A.png\"\u003e\u003c/figure\u003e\u003cp\u003eMathematically, sbox() is a two part operation. First, we take the multiplicative inverse of the input. The result is represented as an eight-element vector (one for each bit) and undergoes the following transformation:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*-l0Y4dkfLh-KEpUlNuoy_Q.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe entire process is performed with Rijndael‚Äôs finite field arithmetic. So at the end, for example, the byte 0b11000110 is not added, but \u003cstrong\u003eXOR‚Äôed\u003c/strong\u003e with the matrix-vector product. This transformation is more succinctly represented as a series of XORs and left bitwise rotations like¬†so:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*hn53zg152FwaSqwu6ECvyQ.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe sbox() operation heavily contributes to the security of AES as a whole. It is resistant to \u003cstrong\u003elinear cryptoanalysis\u003c/strong\u003e in that it is hard to approximate with a linear transformation. It is also resistant to \u003cstrong\u003edifferential cryptoanalysis\u003c/strong\u003e in that there seems to be no correlation between how the input changes and how the output changes. Finally, sbox() is special in that there are no \u003cstrong\u003efixed points\u003c/strong\u003e, i.e. there are no situations where the input equals the¬†output.\u003c/p\u003e\n\u003cp\u003eThe key expansion algorithm works mainly on 32-bit words instead of bytes. For the future, we will define \u003cstrong\u003esubWord() \u003c/strong\u003eas the application of sbox() on each byte of a¬†word.\u003c/p\u003e\n\u003ch4\u003eThe Key Expansion Algorithm\u003c/h4\u003e\n\u003cp\u003eOnto the actual key-generation algorithm. Let‚Äôs define some constants before we take a look at the¬†steps:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLet K[0] thru K[N-1] represent the 32-bit words of the original¬†key.\u003c/li\u003e\n\u003cli\u003eLet N equal the length of the original key in 32-bit words \u003cstrong\u003e(4, 6, or 8 for a 128, 192 or 256-bit key respectively).\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eLet R equal the number of rounds \u003cstrong\u003e(10, 12, or 15 for a 128, 192 or 256-bit key respectively).\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eLet W[0] thru W[4R-1] represent the 32-bit words comprising all of the round keys. Let‚Äôs call this the expanded¬†key.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe key expansion algorithm iterates through all of the 32-bit words W[0] thru W[4R-1]. When we want a specific round key, we combine the four words (128 bits) from of the expanded key corresponding to that round. For example, the Round 3 Key comprises of W[8] thru¬†W[11].\u003c/p\u003e\n\u003cp\u003eThe algorithm goes like¬†this:\u003c/p\u003e\n\u003cpre\u003efor (i from 0 to 4R - 1) {\u003c/pre\u003e\n\u003cpre\u003e  //The first words (W[0] thru W[N-1]) are equal to the words of the original key.\u003cbr\u003e  //For a 128-bit key, this means that the first round key is equal to the original key.\u003cbr\u003e  if (0 \u0026lt; i \u0026lt; N) W[i] = K[i];\u003c/pre\u003e\n\u003cpre\u003e  //Perform operations on the last word of each N-length cycle before XOR-ing.\u003cbr\u003e  else if (i \u0026gt;= N and i == 0 mod N)\u003cbr\u003e    W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003esubWord(rotate(W[i-1])) \u003cstrong\u003e‚äï \u003c/strong\u003ercon(i/N);\u003c/pre\u003e\n\u003cpre\u003e  //For a 256-bit key length only.\u003cbr\u003e  else if (i \u0026gt;= N and N == 8 and i == 4 mod N)\u003cbr\u003e    W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003esubWord(W[i-1])\u003cstrong\u003e;\u003c/strong\u003e\u003c/pre\u003e\n\u003cpre\u003e  //Typical case\u003cbr\u003e  else W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003eW[i-1];\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cp\u003eThe gist of the algorithm is this: generally, each word is the previous word XOR‚Äôed with the word N places behind it. But every N words, we perform various GF(2‚Å∏) operations on the word N places behind before the XOR-ing takes¬†place.\u003c/p\u003e\n\u003ch3\u003eAn AES Round, Step-by-Step\u003c/h3\u003e\n\u003cp\u003eIn this section we will take you through an entire AES round. Remember that the first round only contains the addRoundKey() step. We will be going over every step, so imagine that the first round has already passed and that we are now on the second¬†round.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs say we want to encrypt the following message:\u003c/p\u003e\n\u003cblockquote\u003eThe quick brown fox jumped over the lazy¬†dog\u003c/blockquote\u003e\n\u003cp\u003eWe will look only how the first block is encrypted, containing ‚ÄúThe quick brown ‚Äù. Rearranged into a 4x4 matrix, the block looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/456/1*Vun6MZNz5WVwvFY6JyflXQ.png\"\u003e\u003c/figure\u003e\u003cp\u003eAnd here it is again in hexadecimal:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/452/1*uVKDa77gjVgsfdaZNpxxzg.png\"\u003e\u003c/figure\u003e\u003ch4\u003esubBytes()\u003c/h4\u003e\n\u003cp\u003eThis is the first step in the AES round. We perform the sbox() operation on each byte in the matrix (see the Key Expansion section for details).\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*RmhHKWYNXTdJbP4N0gZrAg.png\"\u003e\u003c/figure\u003e\u003ch4\u003eshiftRows()\u003c/h4\u003e\n\u003cp\u003eFor this step, we rotate each row to the left a number of spaces corresponding to the row number. The first row is shifted zero spaces, the second is shifted one space, and so¬†on.\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*XCto0rabgzk8CjtfubHGbQ.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*S1K2igpNY813n4gV643ixw.png\"\u003e\u003c/figure\u003e\u003ch4\u003emixColumns()\u003c/h4\u003e\n\u003cp\u003eNow we multiply each column by the following matrix using GF(2‚Å∏) arithmetic (gmul() and XOR instead of normal addition and multiplication):\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/262/1*E0POvJgWhIcwAM7IonSyyg.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe entire transformation looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/610/1*WxfxSc5kHtxlwrJnvOkVhA.png\"\u003e\u003c/figure\u003e\u003cp\u003eNotice that this transformation involves many multiplications by 2 and by 3. This is where the optimizations mentioned at the end of the ‚ÄúMathematical Background‚Äù section come into¬†play.\u003c/p\u003e\n\u003cp\u003eIn our example applying the transformation to each column looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*sCWXX9VppD-b6g6GrwcsvA.png\"\u003e\u003c/figure\u003e\u003cp\u003eBoth the shiftRows() and mixColumns() steps add \u003cstrong\u003ediffusion\u003c/strong\u003e to the cipher in that they allow small changes in the plaintext to affect the entirety of the ciphertext.\u003c/p\u003e\n\u003ch4\u003eaddRoundKey()\u003c/h4\u003e\n\u003cp\u003eThis is the easiest step. We XOR each byte in the block with its respective byte in the round key. Let‚Äôs assume that the round key for this round¬†is:\u003c/p\u003e\n\u003cblockquote\u003eabcdefghijklmnop\u003c/blockquote\u003e\n\u003cp\u003eIn hexadecimal this¬†is:\u003c/p\u003e\n\u003cblockquote\u003e61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f¬†70\u003c/blockquote\u003e\n\u003cp\u003eKeep in mind that this is a very unrealistic scenario. The round key should be pseudorandom, as well as the cipher¬†key.\u003c/p\u003e\n\u003cp\u003eThe result of addRoundKey() in our example looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*fXQ5360UIv3GAbiYCeJYvw.png\"\u003e\u003c/figure\u003e\u003cp\u003eConverted back to ASCII the result of a single AES round looks like¬†this:\u003c/p\u003e\n\u003cblockquote\u003e¬Ä1SF√í¬Ω¬î√ã%√àm¬∏P¬´¬Ø\u003c/blockquote\u003e\n\u003cp\u003eAs you can see, the original message is already ridiculously scrambled. Magnify this by as much as fourteen times and make sure the keys are random, and you have a level of security that not even the best computers can¬†crack.\u003c/p\u003e\n\u003ch3\u003eDecryption\u003c/h3\u003e\n\u003cp\u003eSo we have our encrypted message. How to we reverse the long and complicated process that is AES? One of the great things about \u003cem\u003eAES is \u003c/em\u003ethat\u003cem\u003e every action has its¬†inverse.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eDecryption works like this: we generate the round keys using the same process. Then we perform the encryption algorithm in \u003cem\u003ereverse\u003c/em\u003e using the inverses of the various operations.\u003c/p\u003e\n\u003cp\u003eThe addKeys() step is it‚Äôs own inverse. XOR-ing string \u003cem\u003eA\u003c/em\u003e with string \u003cem\u003eB\u003c/em\u003e twice simply results in \u003cem\u003eA\u003c/em\u003e. We just have to remember to use the final encryption round key as the first decryption round key, the second-to-last as the second, and so¬†on.\u003c/p\u003e\n\u003cp\u003eFor the mixColums() step, we apply the \u003cem\u003einverse\u003c/em\u003e of the matrix described above to all of the columns. The transformation looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*zUUllEswFhKSgt4AAO3JBA.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*OLYNV1RDKelE9ekkJ01o0Q.png\"\u003e\u003c/figure\u003e\u003cp\u003eFor the shiftRows() step, we simply rotate the rows in the opposite direction. Or alternatively, rotate each row in the same direction a different number of spaces. If a byte is in row two, it will be rotated 1 space to the left during encryption, and 1 space to the right/3 spaces to the left during decryption.\u003c/p\u003e\n\u003cp\u003eFinally, for the subBytes() step, we apply the \u003cem\u003einverse\u003c/em\u003e of the sbox() operation. Remember that we usually use a lookup table for sbox(). We can also use a lookup table for the inverse, which looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*m4LV9AzaTnkE9Rk44BlXfA.png\"\u003e\u003c/figure\u003e\u003cp\u003eOne last thing: we need to remember that not all of the rounds are the same. Because we perform just addRoundKey() during the first round of encryption, we do the same for the final round of decryption. Because we omit mixColumns() from the final round of encryption, we must do so for the first round of decryption.\u003c/p\u003e\n\u003cp\u003eThe pseudocode for the entire decryption process looks like¬†this:\u003c/p\u003e\n\u003cpre\u003efunction AESdecrypt(ciphertext, key) {\u003cbr\u003e\u003cbr\u003e  blocks := divideIntoBlocks(ciphertext);\u003cbr\u003e  roundKeys = getRoundKeys(key)\u003c/pre\u003e\n\u003cpre\u003e  for (block in blocks) {\u003c/pre\u003e\n\u003cpre\u003e    //first round\u003cbr\u003e    addRoundKey(roundKeys[numRounds - 1], block);\u003cbr\u003e    shiftRowsInv(block);\u003cbr\u003e    subBytesInv(block);\u003c/pre\u003e\n\u003cpre\u003e    //intermediate rounds\u003cbr\u003e    for (8, 10 or 12 rounds) {\u003cbr\u003e      addRoundKey(roundKeys[..], block);\u003cbr\u003e      mixColumnsInv(block);\u003cbr\u003e      shiftRowsInv(block);\u003cbr\u003e      subBytesInv(block);\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    //last round\u003cbr\u003e    addRoundKey(roundKeys[0], block);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e  plaintext := reassemble(blocks);\u003cbr\u003e  return plaintext;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eWe‚Äôre done! We‚Äôve explained basically everything. With this knowledge you should be able to implement AES yourself, although we highly discourage it.\u003c/p\u003e\n\u003cp\u003eWe at SafeHouse believe that cybersecurity is for everyone, so we‚Äôre glad to present info like this in an accessible manner. The cybersec industry is ignoring small businesses and we want to take a¬†stand.\u003c/p\u003e\n\u003cp\u003eIf you found what you read informative, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=b6341c44edb9\" width=\"1\" height=\"1\" alt=\"\"\u003e\u003chr\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9\"\u003eAES: How the Most Advanced Encryption Actually Works\u003c/a\u003e was originally published in \u003ca href=\"https://medium.com/codex\"\u003eCodeX\u003c/a\u003e on Medium, where people are continuing the conversation by highlighting and responding to this story.\u003c/p\u003e\n","content":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*0tm9NZW_Q2--zb3SR6JIjA.png\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://www.venafi.com/blog/what-are-best-use-cases-symmetric-vs-asymmetric-encryption\"\u003ehttps://www.venafi.com/blog/what-are-best-use-cases-symmetric-vs-asymmetric-encryption\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eGovernments, militaries, banks and corporations rely on it. It‚Äôs responsible for securing most, if not all of your personal and financial data. There are special CPU instructions for it. It is the only cryptographic algorithm approved by the¬†NSA.\u003c/p\u003e\n\u003cp\u003eWe‚Äôre of course talking about the Advanced Encryption Standard (AES), the most commonplace and secure symmetric encryption algorithm yet developed.\u003c/p\u003e\n\u003cp\u003eThis will be the longest article we write for the time being üòä. We‚Äôre going to take a deep dive into how this algorithm works. Modern cryptographic algorithms are by no means trivial; they use concepts from advanced mathematics to achieve a high level of security. But we don‚Äôt expect you to be a mathematician.\u003c/p\u003e\n\u003cp\u003eWhile there are many articles about AES, most of them are either too technical or leave out important information. With this article we hope to strike the perfect balance between comprehensiveness and accessibility. However, we must admit that this article will require some level of comfort with math, as mathematical concepts are introduced here.\u003c/p\u003e\n\u003cp\u003eIt must be stated that you should not try to implement AES by yourself in a production application, or risk a \u003ca href=\"https://en.wikipedia.org/wiki/Side-channel_attack\"\u003eside channel attack\u003c/a\u003e. Use the many free \u003ca href=\"https://en.wikipedia.org/wiki/Comparison_of_cryptography_libraries\"\u003ecryptographic libraries\u003c/a\u003e that offer tested implementations of whatever algorithms you¬†need.\u003c/p\u003e\n\u003ch3\u003eThe Basics\u003c/h3\u003e\n\u003cp\u003eFirst, a brief refresher on what AES¬†is.\u003c/p\u003e\n\u003cp\u003eAES is not the name of the algorithm itself, but a title awarded by the National Institute of Standards and Technology (NIST) to the algorithm they deemed to be the de facto standard for encryption. The actual name of the algorithm is \u003cem\u003eRijndael\u003c/em\u003e, and it was selected by the NIST over a number of algorithms to replace the former standard, known as DES (Data Encryption Standard). Rijndael was approved by the NIST in 2001 and adopted by the US government in 2002. It remains the standard cipher used by the US government and institutions across the¬†world.\u003c/p\u003e\n\u003cp\u003eAES is a \u003cem\u003esymmetric cipher\u003c/em\u003e, which means that a single key is used to encrypt \u003cem\u003eand\u003c/em\u003e decrypt the same data. AES can be performed with the following key sizes: \u003cstrong\u003e128 bits, 196 bits and 256 bits\u003c/strong\u003e. Generally, increasing the key size also increases the level of security. Rijndael works for any key size that is a multiple of 32 bits, but the NIST chose specific sizes (and other parameters) that balance performance and security.\u003c/p\u003e\n\u003cp\u003eIt is also a \u003cem\u003eblock cipher\u003c/em\u003e, meaning that the data is divided into blocks before encryption. AES divides plaintext into blocks of 16 bytes (128¬†bits).\u003c/p\u003e\n\u003ch3\u003eAlgorithm Overview\u003c/h3\u003e\n\u003cp\u003eThe gist of AES is this: we arrange each block of the plaintext into a 4x4 matrix and repeatedly perform a set of operations on it. We call each iteration a \u003cem\u003eround\u003c/em\u003e, and we perform \u003cstrong\u003e10, 12 or 14 rounds\u003c/strong\u003e depending on the key length (this is another parameter chosen by¬†NIST):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e10 rounds for a 128-bit¬†key\u003c/li\u003e\n\u003cli\u003e12 rounds for a 196-bit¬†key\u003c/li\u003e\n\u003cli\u003e14 rounds for a 256 bit¬†key\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor each round, we generate a \u003cem\u003eround key \u003c/em\u003efrom the main key using the \u003cem\u003eRijndael Key Schedule\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eThere are four operations on the 4x4 matrix that we will¬†define:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003esubBytes()\u003c/li\u003e\n\u003cli\u003eshiftRows()\u003c/li\u003e\n\u003cli\u003emixColumns()\u003c/li\u003e\n\u003cli\u003eaddRoundKey()\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNot every round of operations is the same; for the first round, we only add the round key, and for the last round we omit the mixColumns() step. So the pseudocode for the AES algorithm might look something like¬†this:\u003c/p\u003e\n\u003cpre\u003efunction AESencrypt(plaintext, key) {\u003cbr\u003e\u003cbr\u003e  blocks := divideIntoBlocks(plaintext);\u003cbr\u003e  roundKeys = getRoundKeys(key)\u003c/pre\u003e\n\u003cpre\u003e  for (block in blocks) {\u003c/pre\u003e\n\u003cpre\u003e    //first round\u003cbr\u003e    addRoundKey(roundKeys[0], block);\u003c/pre\u003e\n\u003cpre\u003e    //intermediate rounds\u003cbr\u003e    for (8, 10 or 12 rounds) {\u003cbr\u003e      subBytes(block);\u003cbr\u003e      shiftRows(block);\u003cbr\u003e      mixColumns(block);\u003cbr\u003e      addRoundKey(roundKeys[..], block);\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    //last round\u003cbr\u003e    subBytes(block);\u003cbr\u003e    shiftRows(block);\u003cbr\u003e    addRoundKey(roundKeys[numRounds - 1], block);\u003c/pre\u003e\n\u003cpre\u003e  }\u003c/pre\u003e\n\u003cpre\u003e  ciphertext := reassemble(blocks);\u003cbr\u003e  return ciphertext;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eMathematical Background\u003c/h3\u003e\n\u003cp\u003eThis section may appear rather esoteric. We told you we would explain AES in detail and we weren‚Äôt lying. Luckily, we believe that the concepts in this section can be understood with only high-school level math and basic programming experience. Don‚Äôt let the fancy words throw you¬†off!\u003c/p\u003e\n\u003cp\u003eLet‚Äôs introduce a concept in abstract algebra called a \u003cem\u003eGalois field\u003c/em\u003e or \u003cem\u003efinite field\u003c/em\u003e. A \u003cem\u003efield\u003c/em\u003e is a set (meaning a collection of objects) with operations that act on the set and behave similarly to addition, subtraction, multiplication and division. In other words, the operations satisfy a number of properties that also hold true for addition/subtraction/multiplication/division over the rational numbers. In fact, the rational and real numbers with these four operations qualify as a field. The \u003cem\u003efinite\u003c/em\u003e qualifier just means that the set has a finite number of elements.\u003c/p\u003e\n\u003cp\u003eWe won‚Äôt go into the specific definition of a field. Just think of it as a set of numbers where addition, subtraction, multiplication and division are redefined.\u003c/p\u003e\n\u003cp\u003eAES uses a specific Galois field, which we will call \u003cem\u003eRijndael‚Äôs finite field\u003c/em\u003e, to perform many essential operations. In particular, it uses GF(2‚Å∏) with irreducible polynomial \u003cem\u003ex\u003c/em\u003e‚Å∏ +\u003cem\u003e x\u003c/em\u003e‚Å¥ + \u003cem\u003ex\u003c/em\u003e¬≥ + \u003cem\u003ex\u003c/em\u003e + 1. You‚Äôll understand what this means in a¬†bit.\u003c/p\u003e\n\u003cp\u003eThe Galois field GF(\u003cem\u003ep‚Åø\u003c/em\u003e), where \u003cem\u003ep\u003c/em\u003e is prime and \u003cem\u003en\u003c/em\u003e is a positive integer, denotes the field with \u003cem\u003ep‚Åø \u003c/em\u003eelements\u003cem\u003e. \u003c/em\u003eFor example, the field GF(8) (or GF(2¬≥)) contains all integers from 0 to 7. An important property of Galois fields is that the elements of the field GF(\u003cem\u003ep‚Åø\u003c/em\u003e) are \u003cstrong\u003eall polynomials of degree less than n with non-negative coefficients, evaluated at p\u003c/strong\u003e\u003cem\u003e. p\u003c/em\u003e is called the \u003cem\u003echaracteristic\u003c/em\u003e of the¬†field.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs look at GF(8), or GF(2¬≥), again. GF(2¬≥) contains {0, 1, 2, 3, 4, 5, 6, 7}, which can be equivalently represented as {0, 1, 2, 2 + 1, 2¬≤, 2¬≤+ 1, 2¬≤+ 2, 2¬≤+ 2 + 1}, or {0, 1, \u003cem\u003ex\u003c/em\u003e, \u003cem\u003ex\u003c/em\u003e+ 1, \u003cem\u003ex\u003c/em\u003e¬≤, \u003cem\u003ex\u003c/em\u003e¬≤ + 1, \u003cem\u003ex\u003c/em\u003e¬≤ + \u003cem\u003ex\u003c/em\u003e, \u003cem\u003ex\u003c/em\u003e¬≤ + \u003cem\u003ex\u003c/em\u003e+ 1} where \u003cem\u003ex\u003c/em\u003e =¬†2.\u003c/p\u003e\n\u003cp\u003eWith this notation out of the way, we can now explain how addition/subtraction/multiplication/division works with Galois¬†fields.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eAddition/Subtraction\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eSuppose we want to add elements \u003cem\u003ea\u003c/em\u003e and \u003cem\u003eb\u003c/em\u003e of GF(\u003cem\u003ep‚Åø\u003c/em\u003e). First, convert them to their polynomial forms, that is, write them as sums of powers of \u003cem\u003ep\u003c/em\u003e. Then we add the polynomials together, but with a caveat: for each coefficient \u003cem\u003ea_k\u003c/em\u003e in \u003cem\u003ea(p)\u003c/em\u003e, \u003cem\u003eb_k\u003c/em\u003e in \u003cem\u003eb(p)\u003c/em\u003e, the resulting coefficient \u003cem\u003ec_k \u003c/em\u003eis equal to \u003cem\u003ea_k\u003c/em\u003e + \u003cem\u003eb_k\u003c/em\u003e mod \u003cem\u003ep\u003c/em\u003e. For subtraction, the formula is \u003cem\u003ec_k\u003c/em\u003e = \u003cem\u003ea_k\u003c/em\u003e‚Ää‚Äî‚Ää\u003cem\u003eb_k\u003c/em\u003e mod¬†\u003cem\u003ep\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eWe apologize for Medium‚Äôs lack of support for mathematical expressions. Here are the formulas again in¬†LaTeX:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/544/1*b32ra3kUxYZx0PAk-fBF0g.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/584/1*-XPMYNDqSAghS8q8jizwpA.png\"\u003e\u003c/figure\u003e\u003cp\u003e‚Äúmod‚Äù of course stands for modulo, which in most programming languages is written as ‚Äú%‚Äù. Let‚Äôs look at an¬†example:\u003c/p\u003e\n\u003cp\u003e74 + 26 in GF(3‚Å¥) = (2 * 3¬≥ + 2 * 3¬≤ + 2 * 1) + (2 * 3¬≤ + 2 * 3 + 2 *¬†1)\u003c/p\u003e\n\u003cp\u003e= (2 * 3¬≥ + 4 * 3¬≤ + 2 * 3 + 4 * 1) = (2 * 3¬≥ + 3¬≤ + 6 + 1) =¬†\u003cstrong\u003e70\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNotice that 4 * 3¬≤ became 3¬≤ and 4 * 1 became 1 because of the modulo operation on the coefficients.\u003c/p\u003e\n\u003cp\u003eThe Rijndael field GF(2‚Å∏), as well as all fields with characteristic 2, share a property that makes them well suited for computers: \u003cstrong\u003eaddition and subtraction are equivalent to the bitwise exclusive or (XOR/‚äï) operation.\u003c/strong\u003e This works because \u003cstrong\u003eeach term in the polynomial represents a bit.\u003c/strong\u003e Here is another example to demonstrate this¬†fact:\u003c/p\u003e\n\u003cp\u003e15 + 12 in GF(2‚Å¥) = (2¬≥ + 2¬≤ + 2 + 1) + (2¬≥ +¬†2¬≤)\u003c/p\u003e\n\u003cp\u003e= (2 * 2¬≥ + 2 * 2¬≤ + 2 + 1) = (2 + 1) =¬†\u003cstrong\u003e3\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e15 ‚äï 12 = 0b1111 ‚äï 0b1100 = 0b0011 =¬†\u003cstrong\u003e3\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAddition in Galois fields is often referred to as ‚Äúcarryless addition.‚Äù We add each set of digits independently modulo \u003cem\u003ep\u003c/em\u003e. Note that in the example above, the first set of digits adds to 2 mod 2 = 0, while the second set adds to 7 mod 2 =¬†3.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eMultiplication\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eIn order to multiply two polynomials \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p)\u003c/em\u003e in GF(\u003cem\u003ep‚Åø\u003c/em\u003e), we need to chose a third polynomial \u003cem\u003em(p) \u003c/em\u003ethat \u003cem\u003ecannot be factored\u003c/em\u003e and has a degree of at least \u003cem\u003en\u003c/em\u003e. We call m(p) the irreducible polynomial.\u003c/p\u003e\n\u003cp\u003eTo multiply \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p) in \u003c/em\u003eGF(\u003cem\u003ep‚Åø\u003c/em\u003e) we perform the following steps:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMultiply \u003cem\u003ea(p)\u003c/em\u003e and \u003cem\u003eb(p) \u003c/em\u003elike¬†normal\u003c/li\u003e\n\u003cli\u003eReduce the coefficients of the resulting polynomial modulo¬†p.\u003c/li\u003e\n\u003cli\u003eReduce the entire polynomial mod \u003cem\u003em(p). \u003c/em\u003eThis is so our final answer stays less than\u003cem\u003e¬†p‚Åø.\u003c/em\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe final step can be performed using polynomial long division. \u003cstrong\u003eHowever, this is no ordinary division\u003cem\u003e.\u003c/em\u003e Every arithmetic operation we perform during the process must be the finite field‚Äôs version.\u003c/strong\u003e In the case of GF(2‚Å∏), every time we perform ‚Äúsubtraction‚Äù, we actually perform the XOR operation. Representing the polynomials as binary strings will be helpful for this¬†step.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs perform 193 * 56 in GF(2‚Å∏) and with \u003cem\u003em(p)\u003c/em\u003e = \u003cem\u003ex\u003c/em\u003e‚Å∏ +\u003cem\u003e x\u003c/em\u003e‚Å¥ + \u003cem\u003ex\u003c/em\u003e¬≥ + \u003cem\u003ex\u003c/em\u003e + 1 (Rijndael‚Äôs field):\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*rc1od0FZUReYTN0q6MJAow.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*QdgLMbTc2cpGQEC3UXjZfw.png\"\u003e\u003c/figure\u003e\u003cp\u003eIf multiplication in finite fields seems complicated, don‚Äôt worry! With Rijndael‚Äôs field, the multiplication algorithm can be greatly optimized beyond what is described above. Below is a pseudocode implementation:\u003c/p\u003e\n\u003cpre\u003efunction gmul(a : byte, b : byte) {\u003c/pre\u003e\n\u003cpre\u003e  p : byte = 0x00;\u003cbr\u003e\u003cbr\u003e  for (8 rounds) {\u003c/pre\u003e\n\u003cpre\u003e    //if low bit of b is set\u003cbr\u003e    if ((b \u0026amp; 1) != 0) {\u003cbr\u003e      p = p ‚äï a;\u003cbr\u003e    }\u003cbr\u003e\u003cbr\u003e    //true if the high bit of a is set\u003cbr\u003e    h : bool = (a \u0026amp; 0x80) != 0;\u003c/pre\u003e\n\u003cpre\u003e    a = a \u0026lt;\u0026lt; 1; //shift left\u003cbr\u003e\u003cbr\u003e    if (h) {\u003cbr\u003e      a = a ‚äï 0x1B; //value of the polynomial m(p) (0x11B) with the high bit removed\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    b = b \u0026gt;\u0026gt; 1; //right shift\u003c/pre\u003e\n\u003cpre\u003e   return p;\u003c/pre\u003e\n\u003cpre\u003e  }  \u003cbr\u003e}\u003c/pre\u003e\n\u003ch4\u003eThe Multiplicative Inverse/Division\u003c/h4\u003e\n\u003cp\u003eThe multiplicative inverse of a polynomial a(p) is the polynomial b(p) such that a(p) * b(p) mod m(p) = 1. Multiplicative inverses can be found by applying the inverse of the algorithm above. Division is simply a matter of multiplying the first operand by the multiplicative inverse of the¬†second.\u003c/p\u003e\n\u003ch4\u003e\u003cstrong\u003eWhat‚Äôs the¬†point?\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eWhy does AES borrow concepts from finite field theory. The main reason is performance. Remember that ‚Äúaddition‚Äù in GF(2‚Å∏) is the same as the XOR operation. Also consider that there is no need to worry about overflow/underflow, because the inputs and outputs of the operations are restricted to the numbers¬†0‚Äì255.\u003c/p\u003e\n\u003cp\u003eMultiplication is less complicated than it looks. To put things in perspective, consider how computers perform normal multiplication at the lowest level: through repeated bit shifts and additions (of course, we don‚Äôt have special circuitry to perform GF(2‚Å∏) arithmetic). Finally, multiplication by 2 and 3 is very easy to optimize. This will become important later.\u003c/p\u003e\n\u003cpre\u003e//multiply by 2 in GF(2^8)\u003cbr\u003efunction gmul2(a : byte) {\u003c/pre\u003e\n\u003cpre\u003e  h : byte = a \u0026amp; 0x80; //high bit\u003c/pre\u003e\n\u003cpre\u003e  b : byte = a \u0026lt;\u0026lt; 1;\u003c/pre\u003e\n\u003cpre\u003e  if (h == 0x80) b = b ‚äï 0x1b;\u003c/pre\u003e\n\u003cpre\u003e  return b; \u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e//multiply by 3 in GF(2^8)\u003cbr\u003efunction gmul3(a : byte) {\u003c/pre\u003e\n\u003cpre\u003e  return a ‚äï gmul2(a);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eKey Expansion\u003c/h3\u003e\n\u003cp\u003eWe‚Äôre done with background! Now it‚Äôs time to look into the nitty-gritty of what AES actually¬†does.\u003c/p\u003e\n\u003cp\u003eBefore any encryption takes place, separate 128-bit keys must be generated for each round. Rijndael uses a specific algorithm to generate round¬†keys.\u003c/p\u003e\n\u003cp\u003eThe Rijndael key schedule performs a number of operations:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003erotate():\u003c/strong\u003e rotates a 32-bit (4 byte) word 8 bits to the left. As an example: rotate(0xab157c9e) = 0x157c9eab.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ercon():\u003c/strong\u003e exponentiates (repeatedly multiplies) 2 to a specified value in Rijndael‚Äôs finite field. This operation can be described by the pseudocode below. However, we will only need to use a maximum of 11 rcon() values, so a lookup table is sufficient.\u003c/p\u003e\n\u003cpre\u003efunction rcon(value : unsigned int) {\u003c/pre\u003e\n\u003cpre\u003e  c : byte = 1;\u003cbr\u003e\u003cbr\u003e  if (value == 0) return 0;\u003cbr\u003e  while (value != 1) {\u003cbr\u003e    c = gmul(c, 2);\u003cbr\u003e    value--;\u003cbr\u003e  }\u003c/pre\u003e\n\u003cpre\u003e  return c;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cp\u003eWe have not yet explained how exponentiation works for finite fields. In short, it works very similarly to normal mathematics. We encourage curious readers to do their own research if they want to learn¬†more.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003esbox():\u003c/strong\u003e another operation in Rijndael‚Äôs field, usually implemented with the following lookup¬†table:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*jS3HSAr5mIotBFA0EXgW1A.png\"\u003e\u003c/figure\u003e\u003cp\u003eMathematically, sbox() is a two part operation. First, we take the multiplicative inverse of the input. The result is represented as an eight-element vector (one for each bit) and undergoes the following transformation:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*-l0Y4dkfLh-KEpUlNuoy_Q.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe entire process is performed with Rijndael‚Äôs finite field arithmetic. So at the end, for example, the byte 0b11000110 is not added, but \u003cstrong\u003eXOR‚Äôed\u003c/strong\u003e with the matrix-vector product. This transformation is more succinctly represented as a series of XORs and left bitwise rotations like¬†so:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*hn53zg152FwaSqwu6ECvyQ.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe sbox() operation heavily contributes to the security of AES as a whole. It is resistant to \u003cstrong\u003elinear cryptoanalysis\u003c/strong\u003e in that it is hard to approximate with a linear transformation. It is also resistant to \u003cstrong\u003edifferential cryptoanalysis\u003c/strong\u003e in that there seems to be no correlation between how the input changes and how the output changes. Finally, sbox() is special in that there are no \u003cstrong\u003efixed points\u003c/strong\u003e, i.e. there are no situations where the input equals the¬†output.\u003c/p\u003e\n\u003cp\u003eThe key expansion algorithm works mainly on 32-bit words instead of bytes. For the future, we will define \u003cstrong\u003esubWord() \u003c/strong\u003eas the application of sbox() on each byte of a¬†word.\u003c/p\u003e\n\u003ch4\u003eThe Key Expansion Algorithm\u003c/h4\u003e\n\u003cp\u003eOnto the actual key-generation algorithm. Let‚Äôs define some constants before we take a look at the¬†steps:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLet K[0] thru K[N-1] represent the 32-bit words of the original¬†key.\u003c/li\u003e\n\u003cli\u003eLet N equal the length of the original key in 32-bit words \u003cstrong\u003e(4, 6, or 8 for a 128, 192 or 256-bit key respectively).\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eLet R equal the number of rounds \u003cstrong\u003e(10, 12, or 15 for a 128, 192 or 256-bit key respectively).\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eLet W[0] thru W[4R-1] represent the 32-bit words comprising all of the round keys. Let‚Äôs call this the expanded¬†key.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe key expansion algorithm iterates through all of the 32-bit words W[0] thru W[4R-1]. When we want a specific round key, we combine the four words (128 bits) from of the expanded key corresponding to that round. For example, the Round 3 Key comprises of W[8] thru¬†W[11].\u003c/p\u003e\n\u003cp\u003eThe algorithm goes like¬†this:\u003c/p\u003e\n\u003cpre\u003efor (i from 0 to 4R - 1) {\u003c/pre\u003e\n\u003cpre\u003e  //The first words (W[0] thru W[N-1]) are equal to the words of the original key.\u003cbr\u003e  //For a 128-bit key, this means that the first round key is equal to the original key.\u003cbr\u003e  if (0 \u0026lt; i \u0026lt; N) W[i] = K[i];\u003c/pre\u003e\n\u003cpre\u003e  //Perform operations on the last word of each N-length cycle before XOR-ing.\u003cbr\u003e  else if (i \u0026gt;= N and i == 0 mod N)\u003cbr\u003e    W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003esubWord(rotate(W[i-1])) \u003cstrong\u003e‚äï \u003c/strong\u003ercon(i/N);\u003c/pre\u003e\n\u003cpre\u003e  //For a 256-bit key length only.\u003cbr\u003e  else if (i \u0026gt;= N and N == 8 and i == 4 mod N)\u003cbr\u003e    W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003esubWord(W[i-1])\u003cstrong\u003e;\u003c/strong\u003e\u003c/pre\u003e\n\u003cpre\u003e  //Typical case\u003cbr\u003e  else W[i] = W[i-N] \u003cstrong\u003e‚äï \u003c/strong\u003eW[i-1];\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cp\u003eThe gist of the algorithm is this: generally, each word is the previous word XOR‚Äôed with the word N places behind it. But every N words, we perform various GF(2‚Å∏) operations on the word N places behind before the XOR-ing takes¬†place.\u003c/p\u003e\n\u003ch3\u003eAn AES Round, Step-by-Step\u003c/h3\u003e\n\u003cp\u003eIn this section we will take you through an entire AES round. Remember that the first round only contains the addRoundKey() step. We will be going over every step, so imagine that the first round has already passed and that we are now on the second¬†round.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs say we want to encrypt the following message:\u003c/p\u003e\n\u003cblockquote\u003eThe quick brown fox jumped over the lazy¬†dog\u003c/blockquote\u003e\n\u003cp\u003eWe will look only how the first block is encrypted, containing ‚ÄúThe quick brown ‚Äù. Rearranged into a 4x4 matrix, the block looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/456/1*Vun6MZNz5WVwvFY6JyflXQ.png\"\u003e\u003c/figure\u003e\u003cp\u003eAnd here it is again in hexadecimal:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/452/1*uVKDa77gjVgsfdaZNpxxzg.png\"\u003e\u003c/figure\u003e\u003ch4\u003esubBytes()\u003c/h4\u003e\n\u003cp\u003eThis is the first step in the AES round. We perform the sbox() operation on each byte in the matrix (see the Key Expansion section for details).\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*RmhHKWYNXTdJbP4N0gZrAg.png\"\u003e\u003c/figure\u003e\u003ch4\u003eshiftRows()\u003c/h4\u003e\n\u003cp\u003eFor this step, we rotate each row to the left a number of spaces corresponding to the row number. The first row is shifted zero spaces, the second is shifted one space, and so¬†on.\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*XCto0rabgzk8CjtfubHGbQ.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*S1K2igpNY813n4gV643ixw.png\"\u003e\u003c/figure\u003e\u003ch4\u003emixColumns()\u003c/h4\u003e\n\u003cp\u003eNow we multiply each column by the following matrix using GF(2‚Å∏) arithmetic (gmul() and XOR instead of normal addition and multiplication):\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/262/1*E0POvJgWhIcwAM7IonSyyg.png\"\u003e\u003c/figure\u003e\u003cp\u003eThe entire transformation looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/610/1*WxfxSc5kHtxlwrJnvOkVhA.png\"\u003e\u003c/figure\u003e\u003cp\u003eNotice that this transformation involves many multiplications by 2 and by 3. This is where the optimizations mentioned at the end of the ‚ÄúMathematical Background‚Äù section come into¬†play.\u003c/p\u003e\n\u003cp\u003eIn our example applying the transformation to each column looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*sCWXX9VppD-b6g6GrwcsvA.png\"\u003e\u003c/figure\u003e\u003cp\u003eBoth the shiftRows() and mixColumns() steps add \u003cstrong\u003ediffusion\u003c/strong\u003e to the cipher in that they allow small changes in the plaintext to affect the entirety of the ciphertext.\u003c/p\u003e\n\u003ch4\u003eaddRoundKey()\u003c/h4\u003e\n\u003cp\u003eThis is the easiest step. We XOR each byte in the block with its respective byte in the round key. Let‚Äôs assume that the round key for this round¬†is:\u003c/p\u003e\n\u003cblockquote\u003eabcdefghijklmnop\u003c/blockquote\u003e\n\u003cp\u003eIn hexadecimal this¬†is:\u003c/p\u003e\n\u003cblockquote\u003e61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f¬†70\u003c/blockquote\u003e\n\u003cp\u003eKeep in mind that this is a very unrealistic scenario. The round key should be pseudorandom, as well as the cipher¬†key.\u003c/p\u003e\n\u003cp\u003eThe result of addRoundKey() in our example looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*fXQ5360UIv3GAbiYCeJYvw.png\"\u003e\u003c/figure\u003e\u003cp\u003eConverted back to ASCII the result of a single AES round looks like¬†this:\u003c/p\u003e\n\u003cblockquote\u003e¬Ä1SF√í¬Ω¬î√ã%√àm¬∏P¬´¬Ø\u003c/blockquote\u003e\n\u003cp\u003eAs you can see, the original message is already ridiculously scrambled. Magnify this by as much as fourteen times and make sure the keys are random, and you have a level of security that not even the best computers can¬†crack.\u003c/p\u003e\n\u003ch3\u003eDecryption\u003c/h3\u003e\n\u003cp\u003eSo we have our encrypted message. How to we reverse the long and complicated process that is AES? One of the great things about \u003cem\u003eAES is \u003c/em\u003ethat\u003cem\u003e every action has its¬†inverse.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eDecryption works like this: we generate the round keys using the same process. Then we perform the encryption algorithm in \u003cem\u003ereverse\u003c/em\u003e using the inverses of the various operations.\u003c/p\u003e\n\u003cp\u003eThe addKeys() step is it‚Äôs own inverse. XOR-ing string \u003cem\u003eA\u003c/em\u003e with string \u003cem\u003eB\u003c/em\u003e twice simply results in \u003cem\u003eA\u003c/em\u003e. We just have to remember to use the final encryption round key as the first decryption round key, the second-to-last as the second, and so¬†on.\u003c/p\u003e\n\u003cp\u003eFor the mixColums() step, we apply the \u003cem\u003einverse\u003c/em\u003e of the matrix described above to all of the columns. The transformation looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*zUUllEswFhKSgt4AAO3JBA.png\"\u003e\u003c/figure\u003e\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*OLYNV1RDKelE9ekkJ01o0Q.png\"\u003e\u003c/figure\u003e\u003cp\u003eFor the shiftRows() step, we simply rotate the rows in the opposite direction. Or alternatively, rotate each row in the same direction a different number of spaces. If a byte is in row two, it will be rotated 1 space to the left during encryption, and 1 space to the right/3 spaces to the left during decryption.\u003c/p\u003e\n\u003cp\u003eFinally, for the subBytes() step, we apply the \u003cem\u003einverse\u003c/em\u003e of the sbox() operation. Remember that we usually use a lookup table for sbox(). We can also use a lookup table for the inverse, which looks like¬†this:\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*m4LV9AzaTnkE9Rk44BlXfA.png\"\u003e\u003c/figure\u003e\u003cp\u003eOne last thing: we need to remember that not all of the rounds are the same. Because we perform just addRoundKey() during the first round of encryption, we do the same for the final round of decryption. Because we omit mixColumns() from the final round of encryption, we must do so for the first round of decryption.\u003c/p\u003e\n\u003cp\u003eThe pseudocode for the entire decryption process looks like¬†this:\u003c/p\u003e\n\u003cpre\u003efunction AESdecrypt(ciphertext, key) {\u003cbr\u003e\u003cbr\u003e  blocks := divideIntoBlocks(ciphertext);\u003cbr\u003e  roundKeys = getRoundKeys(key)\u003c/pre\u003e\n\u003cpre\u003e  for (block in blocks) {\u003c/pre\u003e\n\u003cpre\u003e    //first round\u003cbr\u003e    addRoundKey(roundKeys[numRounds - 1], block);\u003cbr\u003e    shiftRowsInv(block);\u003cbr\u003e    subBytesInv(block);\u003c/pre\u003e\n\u003cpre\u003e    //intermediate rounds\u003cbr\u003e    for (8, 10 or 12 rounds) {\u003cbr\u003e      addRoundKey(roundKeys[..], block);\u003cbr\u003e      mixColumnsInv(block);\u003cbr\u003e      shiftRowsInv(block);\u003cbr\u003e      subBytesInv(block);\u003cbr\u003e    }\u003c/pre\u003e\n\u003cpre\u003e    //last round\u003cbr\u003e    addRoundKey(roundKeys[0], block);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e  plaintext := reassemble(blocks);\u003cbr\u003e  return plaintext;\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eWe‚Äôre done! We‚Äôve explained basically everything. With this knowledge you should be able to implement AES yourself, although we highly discourage it.\u003c/p\u003e\n\u003cp\u003eWe at SafeHouse believe that cybersecurity is for everyone, so we‚Äôre glad to present info like this in an accessible manner. The cybersec industry is ignoring small businesses and we want to take a¬†stand.\u003c/p\u003e\n\u003cp\u003eIf you found what you read informative, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=b6341c44edb9\" width=\"1\" height=\"1\" alt=\"\"\u003e\u003chr\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/codex/aes-how-the-most-advanced-encryption-actually-works-b6341c44edb9\"\u003eAES: How the Most Advanced Encryption Actually Works\u003c/a\u003e was originally published in \u003ca href=\"https://medium.com/codex\"\u003eCodeX\u003c/a\u003e on Medium, where people are continuing the conversation by highlighting and responding to this story.\u003c/p\u003e\n","enclosure":{},"categories":["cybersecurity","privacy","programming","technology","computer-science"]},{"title":"How TLS Protects Your Web Activity","pubDate":"2021-07-02 00:56:22","link":"https://devsafehouse.medium.com/how-tls-protects-your-web-activity-7a9558d98e5d?source=rss-2264614a31c6------2","guid":"https://medium.com/p/7a9558d98e5d","author":"SafeHouse","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*ZEwXotDGMjL_xB2FH58oQw.jpeg","description":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*ZEwXotDGMjL_xB2FH58oQw.jpeg\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://securedcommunications.com/download--secured-communications.html\"\u003ehttps://securedcommunications.com/download--secured-communications.html\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eIn our \u003ca href=\"https://devsafehouse.medium.com/\"\u003emany articles about how the internet works\u003c/a\u003e, we left out an important detail. Many common internet-facing applications secure data before it‚Äôs sent out into the world. But how? With an ingenious protocol known as¬†TLS.\u003c/p\u003e\n\u003ch3\u003eWhat is¬†TLS?\u003c/h3\u003e\n\u003cp\u003eIn the olden days of the internet, communication was completely unencrypted. This meant that eavesdroppers could potentially see all of the data sent over the internet. People had to be very careful when sending sensitive information.\u003c/p\u003e\n\u003cp\u003eThis problem was recognized as early as 1994, so the SSL (Secure Socket Layer) protocol was developed. SSL encrypts data at one endpoint and decrypts it at the other, such that data passed between computers was completely unintelligible. Keep in mind that this protocol does not protect data sitting on your computer (‚Äúat rest‚Äù); it only protects data in transit when two computers connect to each¬†other.\u003c/p\u003e\n\u003cp\u003eTLS (Transport Layer Security) is a similar protocol to SSL and shares the same purpose. The first version was developed in 1999 and based on SSL 3.0. When SSL 3.0 was found to be insecure, it was completely replaced by TLS. TLS is used for web browsing, but can be used for a variety of services. Today, TLS 1.3 is the latest version of TLS and earlier versions should be¬†avoided.\u003c/p\u003e\n\u003cp\u003eYou may have noticed when browsing the web that some URLs start with ‚Äúhttp‚Äù and others with ‚Äúhttps.‚Äù HTTP stands for Hypertext Transfer Protocol, and it is the protocol that retrieves HTML and other media to be displayed by your web browser. HTTPS is a version of HTTP with integrated TLS/SSL. In other words, accessing an ‚Äúhttps‚Äù website means that your communications with the server are encrypted. It‚Äôs recommended that every website switch to HTTPS by purchasing an SSL certificate.\u003c/p\u003e\n\u003ch3\u003eHow Does TLS¬†Work\u003c/h3\u003e\n\u003cp\u003eThe first question one might ask about encrypted communication is ‚Äúhow do both parties know how to decrypt the messages? Surely they can‚Äôt just send the key over the web!‚Äù In fact, they can, and we will explain how step by¬†step.\u003c/p\u003e\n\u003cp\u003eSuppose you are a web browser and you want to connect to a website‚Äôs host. The browser will conduct a conversation with the server to establish a secure channel. This conversation is called the TLS handshake.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 1: The client will send a ‚Äúhello‚Äù message to the server, containing the TLS/SSL versions it is using, a list of supported cipher suites, and string of random bytes (called the \u003cem\u003eclient¬†random\u003c/em\u003e).\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eWhat is meant by ‚Äúcipher suite?‚Äù We‚Äôll get to that. First of all, a cipher is simply an algorithm to encrypt a message. For example, replacing each letter in a message with a number is a type of cipher. But the ones used by TLS are far more complicated and impossible to break by humans or computers alike.\u003c/p\u003e\n\u003cp\u003eA cipher can be \u003cem\u003esymmetric\u003c/em\u003e or \u003cem\u003easymmetric\u003c/em\u003e. A symmetric cipher is one in which a single key is used to encrypt and decrypt the message. They are most useful when only you want to see the contents of the message, since sharing the key is a security risk. The most common symmetric cipher used by TLS is \u003ca href=\"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard\"\u003eAES (Advanced Encryption Standard)\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAsymmetric ciphers require separate keys to encrypt and decrypt the message, and they are the most important component when establishing a secure session. What makes these algorithms work is that an attacker cannot decipher the message with the encryption key; he \u003cem\u003emust\u003c/em\u003e have the decryption key. Therefore, the encryption key, also called the Public Key, can be freely traded between parties without posing a security risk, as long as the decryption key (a.k.a. the Private Key) is not revealed. The principle asymmetric ciphers employed by TLS are \u003ca href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\"\u003eRSA (Rivest‚ÄìShamir‚ÄìAdleman)\u003c/a\u003e and DHE (\u003ca href=\"https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\"\u003eDiffie‚ÄìHellman\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eNow we can define ‚Äúcipher suite.‚Äù A cipher suite contains:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eA symmetric encryption algorithm (such as¬†AES)\u003c/li\u003e\n\u003cli\u003eAn asymmetric encryption algorithm (such as¬†RSA)\u003c/li\u003e\n\u003cli\u003eA Message Authentication Code (MAC), used to authenticate messages\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eStep 2: The server generates a public/private key pair and responds to the client with: the cipher suite it wants to use, the TLS version it wants to use, a digital certificate, the public key, and another string of random bytes (called the \u003cem\u003eserver¬†random\u003c/em\u003e).\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe digital certificate is supplied by the server‚Äôs domain name provider. The client will check with them and ensure that the server is the actual owner of the¬†domain.\u003c/p\u003e\n\u003cp\u003eAfter this message is sent, the client and server will use the highest TLS version and the most secure cipher suite available to¬†both.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 3: The client generates another string of random bytes (called the \u003cem\u003epre-master secret\u003c/em\u003e), encrypts it with the server‚Äôs public key, and sends the result to the¬†server.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 4: The server decrypts the message sent by the client with its private key. Now both the server and the client have the unencrypted pre-master secret.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 5: The server and the client use the pre-master secret, the client random and the server random to generate another key, called the \u003cem\u003esession key\u003c/em\u003e. They should both generate the same¬†key.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eKeep in mind that the session key is different than the server‚Äôs public/private keys. The former is a key for a symmetric algorithm such as AES, whereas the public/private keys were either RSA or¬†DHE.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 6: The server and client will exchanged messages encrypted with the session key to ensure that the handshake worked.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 7: If the handshake was successful, the client and server will use the session key for the remainder of session. The MAC is used in conjunction with the session key to authenticate messages.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eOnce a secure connection is established, there is no need to keep the private key, public key, or pre-master secret.\u003c/p\u003e\n\u003cp\u003eAnd that‚Äôs it! Except for one small detail: this is how TLS works with RSA. With DHE, there are a couple¬†changes:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eAlong with the public key, the server sends a message encrypted with the private key to prove that the two keys are indeed pairs. The message contains a string known as the DH parameter.\u003c/li\u003e\n\u003cli\u003eInstead of the client generating the pre-master secret randomly, both the server and client use the DH parameter to generate¬†it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eSummary\u003c/h3\u003e\n\u003cp\u003eThis was a lot to take in. If there‚Äôs anything you derive from the preceding information it‚Äôs¬†this:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWe use an asymmetric encryption algorithm to exchange information that generates a symmetric encryption key.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe real genius lies in how the encryption algorithms work, so if you‚Äôre a sucker for math we highly recommend you checking them out. We will probably explain how they work in future articles.\u003c/p\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eSafeHouse will use the techniques shown in this article for its own software. If you found what you read informative, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=7a9558d98e5d\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","content":"\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*ZEwXotDGMjL_xB2FH58oQw.jpeg\"\u003e\u003cfigcaption\u003eImage source: \u003ca href=\"https://securedcommunications.com/download--secured-communications.html\"\u003ehttps://securedcommunications.com/download--secured-communications.html\u003c/a\u003e\u003c/figcaption\u003e\u003c/figure\u003e\u003cp\u003eIn our \u003ca href=\"https://devsafehouse.medium.com/\"\u003emany articles about how the internet works\u003c/a\u003e, we left out an important detail. Many common internet-facing applications secure data before it‚Äôs sent out into the world. But how? With an ingenious protocol known as¬†TLS.\u003c/p\u003e\n\u003ch3\u003eWhat is¬†TLS?\u003c/h3\u003e\n\u003cp\u003eIn the olden days of the internet, communication was completely unencrypted. This meant that eavesdroppers could potentially see all of the data sent over the internet. People had to be very careful when sending sensitive information.\u003c/p\u003e\n\u003cp\u003eThis problem was recognized as early as 1994, so the SSL (Secure Socket Layer) protocol was developed. SSL encrypts data at one endpoint and decrypts it at the other, such that data passed between computers was completely unintelligible. Keep in mind that this protocol does not protect data sitting on your computer (‚Äúat rest‚Äù); it only protects data in transit when two computers connect to each¬†other.\u003c/p\u003e\n\u003cp\u003eTLS (Transport Layer Security) is a similar protocol to SSL and shares the same purpose. The first version was developed in 1999 and based on SSL 3.0. When SSL 3.0 was found to be insecure, it was completely replaced by TLS. TLS is used for web browsing, but can be used for a variety of services. Today, TLS 1.3 is the latest version of TLS and earlier versions should be¬†avoided.\u003c/p\u003e\n\u003cp\u003eYou may have noticed when browsing the web that some URLs start with ‚Äúhttp‚Äù and others with ‚Äúhttps.‚Äù HTTP stands for Hypertext Transfer Protocol, and it is the protocol that retrieves HTML and other media to be displayed by your web browser. HTTPS is a version of HTTP with integrated TLS/SSL. In other words, accessing an ‚Äúhttps‚Äù website means that your communications with the server are encrypted. It‚Äôs recommended that every website switch to HTTPS by purchasing an SSL certificate.\u003c/p\u003e\n\u003ch3\u003eHow Does TLS¬†Work\u003c/h3\u003e\n\u003cp\u003eThe first question one might ask about encrypted communication is ‚Äúhow do both parties know how to decrypt the messages? Surely they can‚Äôt just send the key over the web!‚Äù In fact, they can, and we will explain how step by¬†step.\u003c/p\u003e\n\u003cp\u003eSuppose you are a web browser and you want to connect to a website‚Äôs host. The browser will conduct a conversation with the server to establish a secure channel. This conversation is called the TLS handshake.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 1: The client will send a ‚Äúhello‚Äù message to the server, containing the TLS/SSL versions it is using, a list of supported cipher suites, and string of random bytes (called the \u003cem\u003eclient¬†random\u003c/em\u003e).\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eWhat is meant by ‚Äúcipher suite?‚Äù We‚Äôll get to that. First of all, a cipher is simply an algorithm to encrypt a message. For example, replacing each letter in a message with a number is a type of cipher. But the ones used by TLS are far more complicated and impossible to break by humans or computers alike.\u003c/p\u003e\n\u003cp\u003eA cipher can be \u003cem\u003esymmetric\u003c/em\u003e or \u003cem\u003easymmetric\u003c/em\u003e. A symmetric cipher is one in which a single key is used to encrypt and decrypt the message. They are most useful when only you want to see the contents of the message, since sharing the key is a security risk. The most common symmetric cipher used by TLS is \u003ca href=\"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard\"\u003eAES (Advanced Encryption Standard)\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAsymmetric ciphers require separate keys to encrypt and decrypt the message, and they are the most important component when establishing a secure session. What makes these algorithms work is that an attacker cannot decipher the message with the encryption key; he \u003cem\u003emust\u003c/em\u003e have the decryption key. Therefore, the encryption key, also called the Public Key, can be freely traded between parties without posing a security risk, as long as the decryption key (a.k.a. the Private Key) is not revealed. The principle asymmetric ciphers employed by TLS are \u003ca href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\"\u003eRSA (Rivest‚ÄìShamir‚ÄìAdleman)\u003c/a\u003e and DHE (\u003ca href=\"https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\"\u003eDiffie‚ÄìHellman\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eNow we can define ‚Äúcipher suite.‚Äù A cipher suite contains:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eA symmetric encryption algorithm (such as¬†AES)\u003c/li\u003e\n\u003cli\u003eAn asymmetric encryption algorithm (such as¬†RSA)\u003c/li\u003e\n\u003cli\u003eA Message Authentication Code (MAC), used to authenticate messages\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eStep 2: The server generates a public/private key pair and responds to the client with: the cipher suite it wants to use, the TLS version it wants to use, a digital certificate, the public key, and another string of random bytes (called the \u003cem\u003eserver¬†random\u003c/em\u003e).\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe digital certificate is supplied by the server‚Äôs domain name provider. The client will check with them and ensure that the server is the actual owner of the¬†domain.\u003c/p\u003e\n\u003cp\u003eAfter this message is sent, the client and server will use the highest TLS version and the most secure cipher suite available to¬†both.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 3: The client generates another string of random bytes (called the \u003cem\u003epre-master secret\u003c/em\u003e), encrypts it with the server‚Äôs public key, and sends the result to the¬†server.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 4: The server decrypts the message sent by the client with its private key. Now both the server and the client have the unencrypted pre-master secret.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 5: The server and the client use the pre-master secret, the client random and the server random to generate another key, called the \u003cem\u003esession key\u003c/em\u003e. They should both generate the same¬†key.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eKeep in mind that the session key is different than the server‚Äôs public/private keys. The former is a key for a symmetric algorithm such as AES, whereas the public/private keys were either RSA or¬†DHE.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 6: The server and client will exchanged messages encrypted with the session key to ensure that the handshake worked.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eStep 7: If the handshake was successful, the client and server will use the session key for the remainder of session. The MAC is used in conjunction with the session key to authenticate messages.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eOnce a secure connection is established, there is no need to keep the private key, public key, or pre-master secret.\u003c/p\u003e\n\u003cp\u003eAnd that‚Äôs it! Except for one small detail: this is how TLS works with RSA. With DHE, there are a couple¬†changes:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eAlong with the public key, the server sends a message encrypted with the private key to prove that the two keys are indeed pairs. The message contains a string known as the DH parameter.\u003c/li\u003e\n\u003cli\u003eInstead of the client generating the pre-master secret randomly, both the server and client use the DH parameter to generate¬†it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eSummary\u003c/h3\u003e\n\u003cp\u003eThis was a lot to take in. If there‚Äôs anything you derive from the preceding information it‚Äôs¬†this:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWe use an asymmetric encryption algorithm to exchange information that generates a symmetric encryption key.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThe real genius lies in how the encryption algorithms work, so if you‚Äôre a sucker for math we highly recommend you checking them out. We will probably explain how they work in future articles.\u003c/p\u003e\n\u003ch3\u003eSafeHouse\u003c/h3\u003e\n\u003cp\u003eSafeHouse will use the techniques shown in this article for its own software. If you found what you read informative, consider checking us out at \u003ca href=\"https://safehouse.dev/\"\u003ehttps://safehouse.dev/\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=7a9558d98e5d\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","enclosure":{},"categories":["computer-science","cybersecurity","technology","internet","encryption"]}]},"__N_SSG":true},"page":"/","query":{},"buildId":"G6Rxiv8uStspBU7wGcWIJ","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-189c53927ffd3caf09c3.js" async=""></script><script src="/_next/static/chunks/framework-4ae45ca6d0f28c4504d3.js" async=""></script><script src="/_next/static/chunks/main-71948af4b0f09c0fc30e.js" async=""></script><script src="/_next/static/chunks/pages/_app-9681656406d7299e4803.js" async=""></script><script src="/_next/static/chunks/pages/index-30bad413d2dc085e13a0.js" async=""></script><script src="/_next/static/G6Rxiv8uStspBU7wGcWIJ/_buildManifest.js" async=""></script><script src="/_next/static/G6Rxiv8uStspBU7wGcWIJ/_ssgManifest.js" async=""></script></body></html>